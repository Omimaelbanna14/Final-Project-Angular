import{C as zo}from"./chunk-POUEFXQ3.js";import{$ as J,$a as Eo,A as Ze,Aa as P,Ab as Go,B as yi,Ba as _o,Bb as Gn,C as gt,Ca as yo,Cb as bt,D as bi,Da as wi,Db as Ii,E as Ln,Ea as xi,Eb as Jt,F as to,Fa as Ei,Fb as ve,G as Z,Ga as kt,Gb as $o,H as d,Ha as Ft,Hb as $,I as io,Ia as Nt,Ib as Ti,J as Xt,Ja as vt,Jb as Pi,K as f,Ka as Ie,Kb as nt,L as no,La as bo,Lb as rt,M as E,Ma as Co,Mb as He,N as Be,Na as we,O as ae,Oa as Ai,P as Mt,Pa as $e,Q as Ue,Qa as et,R as H,Ra as So,S as De,Sa as tt,T as ro,Ta as Zt,U as oo,Ua as wo,V as so,Va as _t,W as ao,Wa as xo,X as jn,Xa as Bn,Y as U,Ya as it,Z as G,Za as Vt,_a as Te,a as gi,aa as ee,ab as Ao,b as vi,ba as g,bb as Do,c as $r,ca as l,cb as Io,d as zr,da as c,db as Di,e as Hr,ea as v,eb as To,f as Wr,fa as L,fb as Po,g as qr,ga as N,gb as Mo,h as Kr,ha as Ge,hb as ze,i as Qr,ia as lo,ib as ko,j as Yr,ja as co,jb as Fo,k as F,ka as B,kb as No,l as ft,la as uo,lb as Vo,m as K,ma as A,mb as Oo,n as je,na as mo,nb as Ro,o as Ke,oa as y,ob as Ot,p as Qe,pa as po,pb as Rt,q as T,qa as fo,qb as le,r as Rn,ra as ho,rb as ce,s as M,sa as go,sb as Lo,t as k,ta as vo,tb as jo,u as Xr,ua as W,ub as V,v as Zr,va as Ci,vb as Ne,w as _i,wa as Je,wb as Bo,x as Jr,xa as Si,xb as Un,y as eo,ya as m,yb as Uo,z as ht,za as X,zb as yt}from"./chunk-2SWHHZBP.js";import{a as te,b as Se,c as Gr}from"./chunk-4CLCTAJ7.js";function Ho(n){return new F(3e3,!1)}function Ba(){return new F(3100,!1)}function Ua(){return new F(3101,!1)}function Ga(n){return new F(3001,!1)}function $a(n){return new F(3003,!1)}function za(n){return new F(3004,!1)}function qo(n,t){return new F(3005,!1)}function Ko(){return new F(3006,!1)}function Qo(){return new F(3007,!1)}function Yo(n,t){return new F(3008,!1)}function Xo(n){return new F(3002,!1)}function Zo(n,t,e,i,r){return new F(3010,!1)}function Jo(){return new F(3011,!1)}function es(){return new F(3012,!1)}function ts(){return new F(3200,!1)}function is(){return new F(3202,!1)}function ns(){return new F(3013,!1)}function rs(n){return new F(3014,!1)}function os(n){return new F(3015,!1)}function ss(n){return new F(3016,!1)}function as(n,t){return new F(3404,!1)}function Ha(n){return new F(3502,!1)}function ls(n){return new F(3503,!1)}function cs(){return new F(3300,!1)}function ds(n){return new F(3504,!1)}function us(n){return new F(3301,!1)}function ms(n,t){return new F(3302,!1)}function ps(n){return new F(3303,!1)}function fs(n,t){return new F(3400,!1)}function hs(n){return new F(3401,!1)}function gs(n){return new F(3402,!1)}function vs(n,t){return new F(3505,!1)}function Ye(n){switch(n.length){case 0:return new bt;case 1:return n[0];default:return new Ii(n)}}function Wn(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(u=>{let p=u.get("offset"),_=p==s,h=_&&a||new Map;u.forEach((C,w)=>{let S=w,I=C;if(w!=="offset")switch(S=n.normalizePropertyName(S,r),I){case Jt:I=e.get(w);break;case Ne:I=i.get(w);break;default:I=n.normalizeStyleValue(w,S,I,r);break}h.set(S,I)}),_||o.push(h),a=h,s=p}),r.length)throw Ha(r);return o}function Mi(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$n(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$n(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$n(e,"destroy",n)));break}}function $n(n,t,e){let i=e.totalTime,r=!!e.disabled,o=ki(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function ki(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function _e(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function qn(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var Wa=typeof document>"u"?null:document.documentElement;function Fi(n){let t=n.parentNode||n.host||null;return t===Wa?null:t}function qa(n){return n.substring(1,6)=="ebkit"}var Ct=null,Wo=!1;function _s(n){Ct||(Ct=Ka()||{},Wo=Ct.style?"WebkitAppearance"in Ct.style:!1);let t=!0;return Ct.style&&!qa(n)&&(t=n in Ct.style,!t&&Wo&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ct.style)),t}function Ka(){return typeof document<"u"?document.body:null}function Kn(n,t){for(;t;){if(t===n)return!0;t=Fi(t)}return!1}function Qn(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Qa=1e3,Yn="{{",Ya="}}",Xn="ng-enter",Ni="ng-leave",ei="ng-trigger",ti=".ng-trigger",Zn="ng-animating",Vi=".ng-animating";function We(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zn(parseFloat(t[1]),t[2])}function zn(n,t){switch(t){case"s":return n*Qa;default:return n}}function ii(n,t,e){return n.hasOwnProperty("duration")?n:Za(n,t,e)}var Xa=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Za(n,t,e){let i,r=0,o="";if(typeof n=="string"){let s=n.match(Xa);if(s===null)return t.push(Ho(n)),{duration:0,delay:0,easing:""};i=zn(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=zn(parseFloat(a),s[4]));let u=s[5];u&&(o=u)}else i=n;if(!e){let s=!1,a=t.length;i<0&&(t.push(Ba()),s=!0),r<0&&(t.push(Ua()),s=!0),s&&t.splice(a,0,Ho(n))}return{duration:i,delay:r,easing:o}}function ys(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Ve(n,t,e){t.forEach((i,r)=>{let o=Oi(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function ot(n,t){t.forEach((e,i)=>{let r=Oi(i);n.style[r]=""})}function Lt(n){return Array.isArray(n)?n.length==1?n[0]:Uo(n):n}function bs(n,t,e){let i=t.params||{},r=Jn(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(Ga(o))})}var Hn=new RegExp(`${Yn}\\s*(.+?)\\s*${Ya}`,"g");function Jn(n){let t=[];if(typeof n=="string"){let e;for(;e=Hn.exec(n);)t.push(e[1]);Hn.lastIndex=0}return t}function jt(n,t,e){let i=`${n}`,r=i.replace(Hn,(o,s)=>{let a=t[s];return a==null&&(e.push($a(s)),a=""),a.toString()});return r==i?n:r}var Ja=/-+([a-z0-9])/g;function Oi(n){return n.replace(Ja,(...t)=>t[1].toUpperCase())}function Cs(n,t){return n===0||t===0}function Ss(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Ri(n,a)))}}return t}function ye(n,t,e){switch(t.type){case V.Trigger:return n.visitTrigger(t,e);case V.State:return n.visitState(t,e);case V.Transition:return n.visitTransition(t,e);case V.Sequence:return n.visitSequence(t,e);case V.Group:return n.visitGroup(t,e);case V.Animate:return n.visitAnimate(t,e);case V.Keyframes:return n.visitKeyframes(t,e);case V.Style:return n.visitStyle(t,e);case V.Reference:return n.visitReference(t,e);case V.AnimateChild:return n.visitAnimateChild(t,e);case V.AnimateRef:return n.visitAnimateRef(t,e);case V.Query:return n.visitQuery(t,e);case V.Stagger:return n.visitStagger(t,e);default:throw za(t.type)}}function Ri(n,t){return window.getComputedStyle(n)[t]}var gr=(()=>{class n{validateStyleProperty(e){return _s(e)}containsElement(e,i){return Kn(e,i)}getParentElement(e){return Fi(e)}query(e,i,r){return Qn(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],u){return new bt(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),wt=class{static NOOP=new gr},xt=class{};var el=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Gi=class extends xt{normalizePropertyName(t,e){return Oi(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if(el.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(qo(t,i))}return s+o}};var $i="*";function tl(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>il(i,e,t)):e.push(n),e}function il(n,t,e){if(n[0]==":"){let u=nl(n,e);if(typeof u=="function"){t.push(u);return}n=u}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(os(n)),t;let r=i[1],o=i[2],s=i[3];t.push(ws(r,s));let a=r==$i&&s==$i;o[0]=="<"&&!a&&t.push(ws(s,r))}function nl(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(ss(n)),"* => *"}}var Li=new Set(["true","1"]),ji=new Set(["false","0"]);function ws(n,t){let e=Li.has(n)||ji.has(n),i=Li.has(t)||ji.has(t);return(r,o)=>{let s=n==$i||n==r,a=t==$i||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Li.has(n):ji.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Li.has(t):ji.has(t)),s&&a}}var Fs=":self",rl=new RegExp(`s*${Fs}s*,?`,"g");function Ns(n,t,e,i){return new or(n).build(t,e,i)}var xs="",or=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new sr(e);return this._resetContextStyleTimingState(r),ye(this,Lt(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=xs,t.collectedStyles=new Map,t.collectedStyles.set(xs,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Ko()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==V.State){let u=a,p=u.name;p.toString().split(/\s*,\s*/).forEach(_=>{u.name=_,o.push(this.visitState(u,e))}),u.name=p}else if(a.type==V.Transition){let u=this.visitTransition(a,e);i+=u.queryCount,r+=u.depCount,s.push(u)}else e.errors.push(Qo())}),{type:V.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{Jn(u).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}),o.size&&e.errors.push(Yo(t.name,[...o.values()]))}return{type:V.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=ye(this,Lt(t.animation),e),r=tl(t.expr,e.errors);return{type:V.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:St(t.options)}}visitSequence(t,e){return{type:V.Sequence,steps:t.steps.map(i=>ye(this,i,e)),options:St(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let a=ye(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:V.Group,steps:o,options:St(t.options)}}visitAnimate(t,e){let i=ll(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:yt({});if(o.type==V.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let p={};i.easing&&(p.easing=i.easing),s=yt(p)}e.currentTime+=i.duration+i.delay;let u=this.visitStyle(s,e);u.isEmptyStep=a,r=u}return e.currentAnimateTimings=null,{type:V.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===Ne?i.push(a):e.errors.push(Xo(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let u of a.values())if(u.toString().indexOf(Yn)>=0){o=!0;break}}}),{type:V.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,u)=>{let p=e.collectedStyles.get(e.currentQuerySelector),_=p.get(u),h=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(Zo(u,_.startTime,_.endTime,o,r)),h=!1),o=_.startTime),h&&p.set(u,{startTime:o,endTime:r}),e.options&&bs(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:V.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Jo()),i;let r=1,o=0,s=[],a=!1,u=!1,p=0,_=t.steps.map(Y=>{let ie=this._makeStyleAst(Y,e),pe=ie.offset!=null?ie.offset:al(ie.styles),oe=0;return pe!=null&&(o++,oe=ie.offset=pe),u=u||oe<0||oe>1,a=a||oe<p,p=oe,s.push(oe),ie});u&&e.errors.push(es()),a&&e.errors.push(ts());let h=t.steps.length,C=0;o>0&&o<h?e.errors.push(is()):o==0&&(C=r/(h-1));let w=h-1,S=e.currentTime,I=e.currentAnimateTimings,z=I.duration;return _.forEach((Y,ie)=>{let pe=C>0?ie==w?1:C*ie:s[ie],oe=pe*z;e.currentTime=S+I.delay+oe,I.duration=oe,this._validateStyleAst(Y,e),Y.offset=pe,i.styles.push(Y)}),i}visitReference(t,e){return{type:V.Reference,animation:ye(this,Lt(t.animation),e),options:St(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:V.AnimateChild,options:St(t.options)}}visitAnimateRef(t,e){return{type:V.AnimateRef,animation:this.visitReference(t.animation,e),options:St(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=ol(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,_e(e.collectedStyles,e.currentQuerySelector,new Map);let a=ye(this,Lt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:V.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:St(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(ns());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:ii(t.timings,e.errors,!0);return{type:V.Stagger,animation:ye(this,Lt(t.animation),e),timings:i,options:null}}};function ol(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Fs);return t&&(n=n.replace(rl,"")),n=n.replace(/@\*/g,ti).replace(/@\w+/g,e=>ti+"-"+e.slice(1)).replace(/:animating/g,Vi),[n,t]}function sl(n){return n?te({},n):null}var sr=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function al(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function ll(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=ii(n,t).duration;return er(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=er(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=ii(e,t);return er(r.duration,r.delay,r.easing)}function St(n){return n?(n=te({},n),n.params&&(n.params=sl(n.params))):n={},n}function er(n,t,e){return{duration:n,delay:t,easing:e}}function vr(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ri=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},cl=1,dl=":enter",ul=new RegExp(dl,"g"),ml=":leave",pl=new RegExp(ml,"g");function Vs(n,t,e,i,r,o=new Map,s=new Map,a,u,p=[]){return new ar().buildKeyframes(n,t,e,i,r,o,s,a,u,p)}var ar=class{buildKeyframes(t,e,i,r,o,s,a,u,p,_=[]){p=p||new ri;let h=new lr(t,e,p,r,o,_,[]);h.options=u;let C=u.delay?We(u.delay):0;h.currentTimeline.delayNextStep(C),h.currentTimeline.setStyles([s],null,h.errors,u),ye(this,i,h);let w=h.timelines.filter(S=>S.containsAnimation());if(w.length&&a.size){let S;for(let I=w.length-1;I>=0;I--){let z=w[I];if(z.element===e){S=z;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([a],null,h.errors,u)}return w.length?w.map(S=>S.buildKeyframes()):[vr(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:We(jt(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?We(i.duration):null,a=i.delay!=null?We(i.delay):null;return s!==0&&t.forEach(u=>{let p=e.appendInstructionToTimeline(u,s,a);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ye(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==V.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zi);let s=We(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ye(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?We(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),ye(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?jt(i,e.params,e.errors):i;return ii(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==V.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(u=>{let p=u.offset||0;a.forwardTime(p*o),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?We(r.delay):0;o&&(e.previousNode.type===V.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zi);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((p,_)=>{e.currentQueryIndex=_;let h=e.createSubContext(t.options,p);o&&h.delayNextStep(o),p===e.element&&(u=h.currentTimeline),ye(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let C=h.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),u=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=i.currentStaggerTime;break}let _=e.currentTimeline;u&&_.delayNextStep(u);let h=_.currentTime;ye(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},zi={},lr=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,s,a,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=u||new Hi(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=We(i.duration)),i.delay!=null&&(r.delay=We(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=jt(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new cr(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(ul,"."+this._enterClassName),t=t.replace(pl,"."+this._leaveClassName);let u=i!=1,p=this._driver.query(this.element,t,u);i!==0&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),a.push(...p)}return!o&&a.length==0&&s.push(rs(e)),a}},Hi=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cl,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ne),this._currentKeyframe.set(e,Ne);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=fl(t,this._globalTimelineStyles);for(let[a,u]of s){let p=jt(u,o,i);this._pendingStyles.set(a,p),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ne),this._updateStyle(a,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,u)=>{let p=new Map([...this._backFill,...a]);p.forEach((_,h)=>{_===Jt?t.add(h):_===Ne&&e.add(h)}),i||p.set("offset",u/this.duration),r.push(p)});let o=[...t.values()],s=[...e.values()];if(i){let a=r[0],u=new Map(a);a.set("offset",0),u.set("offset",1),r=[a,u]}return vr(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},cr=class extends Hi{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,u=new Map(t[0]);u.set("offset",0),o.push(u);let p=new Map(t[0]);p.set("offset",Es(a)),o.push(p);let _=t.length-1;for(let h=1;h<=_;h++){let C=new Map(t[h]),w=C.get("offset"),S=e+w*i;C.set("offset",Es(S/s)),o.push(C)}i=s,e=0,r="",t=o}return vr(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function Es(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function fl(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,Ne)}else for(let[o,s]of r)e.set(o,s)}),e}function As(n,t,e,i,r,o,s,a,u,p,_,h,C){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:u,preStyleProps:p,postStyleProps:_,totalTime:h,errors:C}}var tr={},Wi=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return hl(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,u,p,_){let h=[],C=this.ast.options&&this.ast.options.params||tr,w=a&&a.params||tr,S=this.buildStyles(i,w,h),I=u&&u.params||tr,z=this.buildStyles(r,I,h),Y=new Set,ie=new Map,pe=new Map,oe=r==="void",Tt={params:Os(I,C),delay:this.ast.options?.delay},Re=_?[]:Vs(t,e,this.ast.animation,o,s,S,z,Tt,p,h),fe=0;return Re.forEach(ge=>{fe=Math.max(ge.duration+ge.delay,fe)}),h.length?As(e,this._triggerName,i,r,oe,S,z,[],[],ie,pe,fe,h):(Re.forEach(ge=>{let ut=ge.element,Pt=_e(ie,ut,new Set);ge.preStyleProps.forEach(mt=>Pt.add(mt));let Lr=_e(pe,ut,new Set);ge.postStyleProps.forEach(mt=>Lr.add(mt)),ut!==e&&Y.add(ut)}),As(e,this._triggerName,i,r,oe,S,z,Re,[...Y.values()],ie,pe,fe))}};function hl(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function Os(n,t){let e=te({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var dr=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Os(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=jt(s,r,e));let u=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,u,s,e),i.set(a,s)})}),i}};function gl(n,t,e){return new ur(n,t,e)}var ur=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new dr(r.style,o,i))}),Ds(this.states,"true","1"),Ds(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Wi(t,r,this.states))}),this.fallbackTransition=vl(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function vl(n,t,e){let i=[(s,a)=>!0],r={type:V.Sequence,steps:[],options:null},o={type:V.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Wi(n,o,t)}function Ds(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var _l=new ri,mr=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=Ns(this._driver,e,i,r);if(i.length)throw ls(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=Wn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Vs(this._driver,e,o,Xn,Ni,new Map,new Map,i,_l,r),s.forEach(_=>{let h=_e(a,_.element,new Map);_.postStyleProps.forEach(C=>h.set(C,null))})):(r.push(cs()),s=[]),r.length)throw ds(r);a.forEach((_,h)=>{_.forEach((C,w)=>{_.set(w,this._driver.computeStyle(h,w,Ne))})});let u=s.map(_=>{let h=a.get(_.element);return this._buildPlayer(_,new Map,h)}),p=Ye(u);return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw us(t);return e}listen(t,e,i,r){let o=ki(e,"","","");return Mi(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Is="ng-animate-queued",yl=".ng-animate-queued",ir="ng-animate-disabled",bl=".ng-animate-disabled",Cl="ng-star-inserted",Sl=".ng-star-inserted",wl=[],Rs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oe="__ng_removed",oi=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=Al(r),i){let o=t,{value:s}=o,a=Gr(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},ni="void",nr=new oi(ni),pr=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Pe(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw ms(i,e);if(i==null||i.length==0)throw ps(e);if(!Dl(i))throw fs(i,e);let o=_e(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let a=_e(this._engine.statesByElement,t,new Map);return a.has(e)||(Pe(t,ei),Pe(t,ei+"-"+e),a.set(e,nr)),()=>{this._engine.afterFlush(()=>{let u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw hs(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new si(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Pe(t,ei),Pe(t,ei+"-"+e),this._engine.statesByElement.set(t,a=new Map));let u=a.get(e),p=new oi(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&p.absorbOptions(u.options),a.set(e,p),u||(u=nr),!(p.value===ni)&&u.value===p.value){if(!Pl(u.params,p.params)){let I=[],z=o.matchStyles(u.value,u.params,I),Y=o.matchStyles(p.value,p.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{ot(t,z),Ve(t,Y)})}return}let C=_e(this._engine.playersByElement,t,[]);C.forEach(I=>{I.namespaceId==this.id&&I.triggerName==e&&I.queued&&I.destroy()});let w=o.matchTransition(u.value,p.value,t,p.params),S=!1;if(!w){if(!r)return;w=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:u,toState:p,player:s,isFallbackTransition:S}),S||(Pe(t,Is),s.onStart(()=>{Bt(t,Is)})),s.onDone(()=>{let I=this.players.indexOf(s);I>=0&&this.players.splice(I,1);let z=this._engine.playersByElement.get(t);if(z){let Y=z.indexOf(s);Y>=0&&z.splice(Y,1)}}),this.players.push(s),C.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,ti,!0);i.forEach(r=>{if(r[Oe])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((u,p)=>{if(s.set(p,u.value),this._triggers.has(p)){let _=this.trigger(t,p,ni,r);_&&a.push(_)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ye(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let u=this._triggers.get(s).fallbackTransition,p=i.get(s)||nr,_=new oi(ni),h=new si(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:u,fromState:p,toState:_,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Oe];(!o||o===Rs)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Pe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let u=ki(o,i.triggerName,i.fromState.value,i.toState.value);u._data=t,Mi(i.player,a.phase,u,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},fr=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new pr(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let u=r.get(a);if(u){let p=i.indexOf(u);i.splice(p+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Bi(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Bi(e))return;let o=e[Oe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pe(t,ir)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bt(t,ir))}removeNode(t,e,i){if(Bi(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Oe]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Bi(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ti,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Vi,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ye(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Oe];if(e&&e.setForRemoval){if(t[Oe]=Rs,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ir)&&this.markElementAsDisabled(t,!1),this.driver.query(t,bl,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Pe(r,Cl)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ye(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw gs(t)}_flushAnimations(t,e){let i=new ri,r=[],o=new Map,s=[],a=new Map,u=new Map,p=new Map,_=new Set;this.disabledNodes.forEach(b=>{_.add(b);let x=this.driver.query(b,yl,!0);for(let D=0;D<x.length;D++)_.add(x[D])});let h=this.bodyNode,C=Array.from(this.statesByElement.keys()),w=Ms(C,this.collectedEnterElements),S=new Map,I=0;w.forEach((b,x)=>{let D=Xn+I++;S.set(x,D),b.forEach(j=>Pe(j,D))});let z=[],Y=new Set,ie=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let x=this.collectedLeaveElements[b],D=x[Oe];D&&D.setForRemoval&&(z.push(x),Y.add(x),D.hasAnimation?this.driver.query(x,Sl,!0).forEach(j=>Y.add(j)):ie.add(x))}let pe=new Map,oe=Ms(C,Array.from(Y));oe.forEach((b,x)=>{let D=Ni+I++;pe.set(x,D),b.forEach(j=>Pe(j,D))}),t.push(()=>{w.forEach((b,x)=>{let D=S.get(x);b.forEach(j=>Bt(j,D))}),oe.forEach((b,x)=>{let D=pe.get(x);b.forEach(j=>Bt(j,D))}),z.forEach(b=>{this.processLeaveNode(b)})});let Tt=[],Re=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(e).forEach(D=>{let j=D.player,ne=D.element;if(Tt.push(j),this.collectedEnterElements.length){let se=ne[Oe];if(se&&se.setForMove){if(se.previousTriggersValues&&se.previousTriggersValues.has(D.triggerName)){let pt=se.previousTriggersValues.get(D.triggerName),Ae=this.statesByElement.get(D.element);if(Ae&&Ae.has(D.triggerName)){let hi=Ae.get(D.triggerName);hi.value=pt,Ae.set(D.triggerName,hi)}}j.destroy();return}}let Le=!h||!this.driver.containsElement(h,ne),Ce=pe.get(ne),Xe=S.get(ne),q=this._buildInstruction(D,i,Xe,Ce,Le);if(q.errors&&q.errors.length){Re.push(q);return}if(Le){j.onStart(()=>ot(ne,q.fromStyles)),j.onDestroy(()=>Ve(ne,q.toStyles)),r.push(j);return}if(D.isFallbackTransition){j.onStart(()=>ot(ne,q.fromStyles)),j.onDestroy(()=>Ve(ne,q.toStyles)),r.push(j);return}let Ur=[];q.timelines.forEach(se=>{se.stretchStartingKeyframe=!0,this.disabledNodes.has(se.element)||Ur.push(se)}),q.timelines=Ur,i.append(ne,q.timelines);let ja={instruction:q,player:j,element:ne};s.push(ja),q.queriedElements.forEach(se=>_e(a,se,[]).push(j)),q.preStyleProps.forEach((se,pt)=>{if(se.size){let Ae=u.get(pt);Ae||u.set(pt,Ae=new Set),se.forEach((hi,On)=>Ae.add(On))}}),q.postStyleProps.forEach((se,pt)=>{let Ae=p.get(pt);Ae||p.set(pt,Ae=new Set),se.forEach((hi,On)=>Ae.add(On))})});if(Re.length){let b=[];Re.forEach(x=>{b.push(vs(x.triggerName,x.errors))}),Tt.forEach(x=>x.destroy()),this.reportError(b)}let fe=new Map,ge=new Map;s.forEach(b=>{let x=b.element;i.has(x)&&(ge.set(x,x),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,fe))}),r.forEach(b=>{let x=b.element;this._getPreviousPlayers(x,!1,b.namespaceId,b.triggerName,null).forEach(j=>{_e(fe,x,[]).push(j),j.destroy()})});let ut=z.filter(b=>ks(b,u,p)),Pt=new Map;Ps(Pt,this.driver,ie,p,Ne).forEach(b=>{ks(b,u,p)&&ut.push(b)});let mt=new Map;w.forEach((b,x)=>{Ps(mt,this.driver,new Set(b),u,Jt)}),ut.forEach(b=>{let x=Pt.get(b),D=mt.get(b);Pt.set(b,new Map([...x?.entries()??[],...D?.entries()??[]]))});let Vn=[],jr=[],Br={};s.forEach(b=>{let{element:x,player:D,instruction:j}=b;if(i.has(x)){if(_.has(x)){D.onDestroy(()=>Ve(x,j.toStyles)),D.disabled=!0,D.overrideTotalTime(j.totalTime),r.push(D);return}let ne=Br;if(ge.size>1){let Ce=x,Xe=[];for(;Ce=Ce.parentNode;){let q=ge.get(Ce);if(q){ne=q;break}Xe.push(Ce)}Xe.forEach(q=>ge.set(q,ne))}let Le=this._buildAnimation(D.namespaceId,j,fe,o,mt,Pt);if(D.setRealPlayer(Le),ne===Br)Vn.push(D);else{let Ce=this.playersByElement.get(ne);Ce&&Ce.length&&(D.parentPlayer=Ye(Ce)),r.push(D)}}else ot(x,j.fromStyles),D.onDestroy(()=>Ve(x,j.toStyles)),jr.push(D),_.has(x)&&r.push(D)}),jr.forEach(b=>{let x=o.get(b.element);if(x&&x.length){let D=Ye(x);b.setRealPlayer(D)}}),r.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<z.length;b++){let x=z[b],D=x[Oe];if(Bt(x,Ni),D&&D.hasAnimation)continue;let j=[];if(a.size){let Le=a.get(x);Le&&Le.length&&j.push(...Le);let Ce=this.driver.query(x,Vi,!0);for(let Xe=0;Xe<Ce.length;Xe++){let q=a.get(Ce[Xe]);q&&q.length&&j.push(...q)}}let ne=j.filter(Le=>!Le.destroyed);ne.length?Il(this,x,ne):this.processLeaveNode(x)}return z.length=0,Vn.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let x=this.players.indexOf(b);this.players.splice(x,1)}),b.play()}),Vn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let u=!o||o==ni;a.forEach(p=>{p.queued||!u&&p.triggerName!=r||s.push(p)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let u of e.timelines){let p=u.element,_=p!==o,h=_e(i,p,[]);this._getPreviousPlayers(p,_,s,a,e.toState).forEach(w=>{let S=w.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),w.destroy(),h.push(w)})}ot(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let a=e.triggerName,u=e.element,p=[],_=new Set,h=new Set,C=e.timelines.map(S=>{let I=S.element;_.add(I);let z=I[Oe];if(z&&z.removedBeforeQueried)return new bt(S.duration,S.delay);let Y=I!==u,ie=Tl((i.get(I)||wl).map(fe=>fe.getRealPlayer())).filter(fe=>{let ge=fe;return ge.element?ge.element===I:!1}),pe=o.get(I),oe=s.get(I),Tt=Wn(this._normalizer,S.keyframes,pe,oe),Re=this._buildPlayer(S,Tt,ie);if(S.subTimeline&&r&&h.add(I),Y){let fe=new si(t,a,I);fe.setRealPlayer(Re),p.push(fe)}return Re});p.forEach(S=>{_e(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>El(this.playersByQueriedElement,S.element,S))}),_.forEach(S=>Pe(S,Zn));let w=Ye(C);return w.onDestroy(()=>{_.forEach(S=>Bt(S,Zn)),Ve(u,e.toStyles)}),h.forEach(S=>{_e(r,S,[]).push(w)}),w}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new bt(t.duration,t.delay)}},si=class{namespaceId;triggerName;element;_player=new bt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Mi(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_e(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function El(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function Al(n){return n??null}function Bi(n){return n&&n.nodeType===1}function Dl(n){return n=="start"||n=="done"}function Ts(n,t){let e=n.style.display;return n.style.display=t??"none",e}function Ps(n,t,e,i,r){let o=[];e.forEach(u=>o.push(Ts(u)));let s=[];i.forEach((u,p)=>{let _=new Map;u.forEach(h=>{let C=t.computeStyle(p,h,r);_.set(h,C),(!C||C.length==0)&&(p[Oe]=xl,s.push(p))}),n.set(p,_)});let a=0;return e.forEach(u=>Ts(u,o[a++])),s}function Ms(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let u=o.get(a);if(u)return u;let p=a.parentNode;return e.has(p)?u=p:r.has(p)?u=i:u=s(p),o.set(a,u),u}return t.forEach(a=>{let u=s(a);u!==i&&e.get(u).push(a)}),e}function Pe(n,t){n.classList?.add(t)}function Bt(n,t){n.classList?.remove(t)}function Il(n,t,e){Ye(e).onDone(()=>n.processLeaveNode(t))}function Tl(n){let t=[];return Ls(n,t),t}function Ls(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof Ii?Ls(i.players,t):t.push(i)}}function Pl(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function ks(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var Ut=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new fr(t.body,e,i),this._timelineEngine=new mr(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let u=[],p=[],_=Ns(this._driver,o,u,p);if(u.length)throw as(r,u);a=gl(r,_,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=qn(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=qn(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Ml(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=rr(t[0]),t.length>1&&(i=rr(t[t.length-1]))):t instanceof Map&&(e=rr(t)),e||i?new kl(n,e,i):null}var kl=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ot(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ot(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return n})();function rr(n){let t=null;return n.forEach((e,i)=>{Fl(i)&&(t=t||new Map,t.set(i,e))}),t}function Fl(n){return n==="display"||n==="position"}var qi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Ri(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Ki=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Kn(t,e)}getParentElement(t){return Fi(t)}query(t,e,i){return Qn(t,e,i)}computeStyle(t,e,i){return Ri(t,e)}animate(t,e,i,r,o,s=[]){let a=r==0?"both":"forwards",u={duration:i,delay:r,fill:a};o&&(u.easing=o);let p=new Map,_=s.filter(w=>w instanceof qi);Cs(i,r)&&_.forEach(w=>{w.currentSnapshot.forEach((S,I)=>p.set(I,S))});let h=ys(e).map(w=>new Map(w));h=Ss(t,h,p);let C=Ml(t,h);return new qi(t,h,u,C)}};var Ui="@",js="@.disabled",Qi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Ui&&e==js?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},hr=class extends Qi{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Ui?e.charAt(1)=="."&&e==js?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==Ui){let o=Nl(t),s=e.slice(1),a="";return s.charAt(0)!=Ui&&([s,a]=Vl(s)),this.engine.listen(this.namespaceId,o,s,a,u=>{let p=u._data||-1;this.factory.scheduleListenerCallback(p,i,u)})}return this.delegate.listen(t,e,i,r)}};function Nl(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Vl(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Yi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let p=this._rendererCache,_=p.get(r);if(!_){let h=()=>p.delete(r);_=new Qi("",r,this.engine,h),p.set(r,_)}return _}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=p=>{Array.isArray(p)?p.forEach(a):this.engine.registerTrigger(o,s,t,p.name,p)};return e.data.animation.forEach(a),new hr(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Rl=(()=>{class n extends Ut{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Qe(_i),Qe(wt),Qe(xt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function Ll(){return new Gi}function jl(n,t,e){return new Yi(n,t,e)}var Bs=[{provide:xt,useFactory:Ll},{provide:Ut,useClass:Rl},{provide:io,useFactory:jl,deps:[To,Ut,ro]}],Bl=[{provide:wt,useClass:gr},{provide:Ln,useValue:"NoopAnimations"},...Bs],_r=[{provide:wt,useFactory:()=>new Ki},{provide:Ln,useFactory:()=>"BrowserAnimations"},...Bs],Us=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Bl:_r}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=je({providers:_r,imports:[Mo]})}return n})();function Gs(){return no("NgEagerAnimations"),[..._r]}var be=(()=>{let t=class t{constructor(i,r){this.document=i,this.platformId=r,this.documentIsAccessible=Di(this.platformId)}static getCookieRegExp(i){let r=i.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch{return i}}check(i){return this.documentIsAccessible?(i=encodeURIComponent(i),t.getCookieRegExp(i).test(this.document.cookie)):!1}get(i){if(this.check(i)){i=encodeURIComponent(i);let o=t.getCookieRegExp(i).exec(this.document.cookie);return o?.[1]?t.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let i={},r=this.document;return r.cookie&&r.cookie!==""&&r.cookie.split(";").forEach(o=>{let[s,a]=o.split("=");i[t.safeDecodeURIComponent(s.replace(/^ /,""))]=t.safeDecodeURIComponent(a)}),i}set(i,r,o,s,a,u,p,_){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||s||a||u||p){let w={expires:o,path:s,domain:a,secure:u,sameSite:p||"Lax",partitioned:_};this.set(i,r,w);return}let h=encodeURIComponent(i)+"="+encodeURIComponent(r)+";",C=o||{};if(C.expires)if(typeof C.expires=="number"){let w=new Date(new Date().getTime()+C.expires*1e3*60*60*24);h+="expires="+w.toUTCString()+";"}else h+="expires="+C.expires.toUTCString()+";";C.path&&(h+="path="+C.path+";"),C.domain&&(h+="domain="+C.domain+";"),C.secure===!1&&C.sameSite==="None"&&(C.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),C.secure&&(h+="secure;"),C.sameSite||(C.sameSite="Lax"),h+="sameSite="+C.sameSite+";",C.partitioned&&(h+="Partitioned;"),this.document.cookie=h}delete(i,r,o,s,a="Lax"){if(!this.documentIsAccessible)return;let u=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:u,path:r,domain:o,secure:s,sameSite:a})}deleteAll(i,r,o,s="Lax"){if(!this.documentIsAccessible)return;let a=this.getAll();for(let u in a)a.hasOwnProperty(u)&&this.delete(u,i,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(Qe(_i),Qe(bi))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var de=class n{cartCount=new vi(0);_HttpClient=T(ze);_CookieService=T(be);GetLoggedUserCart(){return this._HttpClient.get(`${$.baseURL}/api/v1/cart`)}AddProductToCart(t){return this._HttpClient.post(`${$.baseURL}/api/v1/cart`,{productId:t})}UpdateCartProductQuantity(t,e){return this._HttpClient.put(`${$.baseURL}/api/v1/cart/${t}`,{count:e})}RemovespecifiCartItem(t){return this._HttpClient.delete(`${$.baseURL}/api/v1/cart/${t}`)}ClearUserCart(){return this._HttpClient.delete(`${$.baseURL}/api/v1/cart`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xi=class n{constructor(t){this.platformId=t}loadFlowbite(t){Di(this.platformId)&&import("./chunk-XCQAQCAC.js").then(e=>{t(e)})}static \u0275fac=function(e){return new(e||n)(Qe(bi))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Et=class extends Error{};Et.prototype.name="InvalidTokenError";function $l(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function zl(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return $l(t)}catch{return atob(t)}}function $s(n,t){if(typeof n!="string")throw new Et("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,i=n.split(".")[e];if(typeof i!="string")throw new Et(`Invalid token specified: missing part #${e+1}`);let r;try{r=zl(i)}catch(o){throw new Et(`Invalid token specified: invalid base64 for part #${e+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new Et(`Invalid token specified: invalid json for part #${e+1} (${o.message})`)}}var ue=class n{_HttpClient=T(ze);_CookieService=T(be);userInfo;decodeToken(){this.userInfo=$s(this._CookieService.get("token"))}SignUp(t){return this._HttpClient.post(`${$.baseURL}/api/v1/auth/signup`,t)}SignIn(t){return this._HttpClient.post(`${$.baseURL}/api/v1/auth/signin`,t)}ForgotPassword(t){return this._HttpClient.post(`${$.baseURL}/api/v1/auth/forgotPasswords`,t)}VerifyResetCode(t){return this._HttpClient.post(`${$.baseURL}/api/v1/auth/verifyResetCode`,t)}UpdateLoggedUserPassword(t){return this._HttpClient.put(`${$.baseURL}/api/v1/users/changeMyPassword`,t)}ResetPassword(t){return this._HttpClient.put(`${$.baseURL}/api/v1/auth/resetPassword`,t)}UpdateLoggedUserData(t){return this._HttpClient.put(`${$.baseURL}/api/v1/users/updateMe/`,t)}GetAllUsers(t){return this._HttpClient.get(`${$.baseURL}/api/v1/users`,t)}VerifyToken(t){return this._HttpClient.get(`${$.baseURL}/api/v1/auth/verifyToken`,t)}constructor(){this._CookieService.get("token")&&this.decodeToken()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hl(n,t){n&1&&(l(0,"ul",10)(1,"li",20)(2,"a",21),m(3,"Home"),c()(),l(4,"li",20)(5,"a",22),m(6,"Products"),c()(),l(7,"li",20)(8,"a",23),m(9,"Categories"),c()(),l(10,"li",20)(11,"a",24),m(12,"Brands"),c()()())}function Wl(n,t){n&1&&(l(0,"li",12)(1,"a",25),v(2,"i",26),c()())}function ql(n,t){if(n&1&&(l(0,"li",12)(1,"a",27)(2,"span",28),m(3),c(),v(4,"i",29),c()()),n&2){let e=y();d(3),P(" ",e.cartBadge," ")}}function Kl(n,t){n&1&&(l(0,"li",20)(1,"a",30),m(2,"Login"),c()(),l(3,"li",20)(4,"a",31),m(5,"Register"),c()())}function Ql(n,t){if(n&1){let e=B();l(0,"li",20)(1,"a",32),A("click",function(){M(e);let r=y();return k(r.logOut())}),m(2,"Signout"),c()(),l(3,"span",33),A("click",function(){M(e);let r=y();return k(r.showName())}),m(4," Hi, "),l(5,"span",34),m(6),c()()}if(n&2){let e=y();d(6),P(" ",e.userName," ")}}var $t=class n{constructor(t,e,i,r,o){this._CartService=t;this._CookieService=e;this.flowbiteService=i;this._AuthService=r;this._Router=o}userName;cartBadge;check=wo(!1);logOut(){this._Router.navigate(["/login"]),this._CookieService.delete("token"),this._AuthService.userInfo=null}ngOnInit(){this.flowbiteService.loadFlowbite(t=>{zo()}),this._CookieService.get("token")&&this._CartService.GetLoggedUserCart().subscribe({next:t=>{this.cartBadge=t.numOfCartItems}}),this._CartService.cartCount.subscribe({next:t=>{this.cartBadge=t}})}showName(){this._AuthService.decodeToken(),this.userName=this._AuthService.userInfo.name,console.log(this._AuthService.userInfo.name)}static \u0275fac=function(e){return new(e||n)(f(de),f(be),f(Xi),f(ue),f(le))};static \u0275cmp=E({type:n,selectors:[["app-navbar"]],inputs:{check:[1,"check"]},decls:32,vars:5,consts:[[1,"bg-gray-200"],[1,"container-auto"],[1,"max-w-screen-2xl","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],[1,"flex","items-center","w-[15%]","space-x-3","rtl:space-x-reverse"],["src","./images/freshcart-logo.svg","alt","",1,"w-full","block"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default","aria-expanded","false",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-800","dark:hover:bg-gray-700","dark:focus:ring-gray-600"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-default",1,"hidden","items-center","w-full","lg:w-[80%]","md:flex"],[1,"font-medium","flex","flex-col","p-4","md:p-2","mt-4","border","rounded-lg","md:flex-row","md:space-x-3","rtl:space-x-reverse","md:mt-0","md:border-0"],[1,"ms-auto","font-medium","flex","flex-col","p-4","md:p-2","mt-4","border","rounded-lg","md:flex-row","md:items-center","md:space-x-3","rtl:space-x-reverse","md:mt-0","md:border-0"],[1,"p-2","relative"],[1,"text-green-800","hover:text-green-400","duration-500"],["href",""],[1,"fab","fa-facebook"],[1,"fab","fa-twitter"],[1,"fab","fa-linkedin"],[1,"fab","fa-tiktok"],[1,"fab","fa-youtube"],[1,"p-2"],["routerLink","/home","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["routerLink","/products","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["routerLink","/categories","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["routerLink","/brands","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["routerLink","/wishlist","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],[1,"fa","fa-heart","fa-lg","cursor-pointer","text-emerald-800","hover:text-red-500","transition","transform","hover:scale-125"],["routerLink","/cart","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],[1,"absolute","top-0","start-0"],[1,"fa-solid","fa-cart-arrow-down","fa-lg","text-emerald-800"],["routerLink","/login","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["routerLink","/register","aria-current","page",1,"block","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"],["aria-current","page",1,"block","cursor-pointer","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0",3,"click"],[1,"p-2","text-xs",3,"click"],["aria-current","page",1,"block","text-2xs","text-emerald-800","hover:text-emerald-400","transition-all","duration-[0.5s]","font-bold","py-2","px-3","rounded-sm","md:p-0"]],template:function(e,i){e&1&&(l(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),v(4,"img",4),c(),l(5,"button",5)(6,"span",6),m(7,"Open main menu"),c(),Xr(),l(8,"svg",7),v(9,"path",8),c()(),Zr(),l(10,"div",9),U(11,Hl,13,0,"ul",10),l(12,"ul",11),U(13,Wl,3,0,"li",12),U(14,ql,5,1,"li",12),l(15,"li",13)(16,"a",14),v(17,"i",15),c()(),l(18,"li",13)(19,"a",14),v(20,"i",16),c()(),l(21,"li",13)(22,"a",14),v(23,"i",17),c()(),l(24,"li",13)(25,"a",14),v(26,"i",18),c()(),l(27,"li",13)(28,"a",14),v(29,"i",19),c()(),U(30,Kl,6,0),U(31,Ql,7,1),c()()()()()),e&2&&(d(11),G(i.check()?11:-1),d(2),G(i.check()?13:-1),d(),G(i.check()?14:-1),d(16),G(i.check()==!1?30:-1),d(),G(i.check()?31:-1))},dependencies:[ce],encapsulation:2})};var Ji=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-auth-layout"]],decls:3,vars:1,consts:[[1,"sticky","top-0","end-0","start-0","z-[100000]"],[3,"check"]],template:function(e,i){e&1&&(l(0,"div",0),v(1,"app-navbar",1),c(),v(2,"router-outlet")),e&2&&(d(),g("check",!1))},dependencies:[Rt,$t],encapsulation:2})};var Js=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(f(Xt),f(gt))};static \u0275dir=ae({type:n})}return n})(),Er=(()=>{class n extends Js{static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=ae({type:n,features:[Ue]})}return n})(),ui=new Ke("");var Yl={provide:ui,useExisting:ft(()=>re),multi:!0};function Xl(){let n=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Zl=new Ke(""),re=(()=>{class n extends Js{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Xl())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(f(Xt),f(gt),f(Zl,8))};static \u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[vt([Yl]),Ue]})}return n})();function Ar(n){return n==null||Dr(n)===0}function Dr(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ir=new Ke(""),Tr=new Ke(""),Jl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=class{static min(t){return ec(t)}static max(t){return tc(t)}static required(t){return ic(t)}static requiredTrue(t){return nc(t)}static email(t){return rc(t)}static minLength(t){return oc(t)}static maxLength(t){return sc(t)}static pattern(t){return ac(t)}static nullValidator(t){return ea()}static compose(t){return sa(t)}static composeAsync(t){return la(t)}};function ec(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function tc(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function ic(n){return Ar(n.value)?{required:!0}:null}function nc(n){return n.value===!0?null:{required:!0}}function rc(n){return Ar(n.value)||Jl.test(n.value)?null:{email:!0}}function oc(n){return t=>{let e=t.value?.length??Dr(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function sc(n){return t=>{let e=t.value?.length??Dr(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function ac(n){if(!n)return ea;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ar(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function ea(n){return null}function ta(n){return n!=null}function ia(n){return so(n)?$r(n):n}function na(n){let t={};return n.forEach(e=>{t=e!=null?te(te({},t),e):t}),Object.keys(t).length===0?null:t}function ra(n,t){return t.map(e=>e(n))}function lc(n){return!n.validate}function oa(n){return n.map(t=>lc(t)?t:e=>t.validate(e))}function sa(n){if(!n)return null;let t=n.filter(ta);return t.length==0?null:function(e){return na(ra(e,t))}}function aa(n){return n!=null?sa(oa(n)):null}function la(n){if(!n)return null;let t=n.filter(ta);return t.length==0?null:function(e){let i=ra(e,t).map(ia);return Wr(i).pipe(Hr(na))}}function ca(n){return n!=null?la(oa(n)):null}function zs(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function da(n){return n._rawValidators}function ua(n){return n._rawAsyncValidators}function yr(n){return n?Array.isArray(n)?n:[n]:[]}function tn(n,t){return Array.isArray(n)?n.includes(t):n===t}function Hs(n,t){let e=yr(t);return yr(n).forEach(r=>{tn(e,r)||e.push(r)}),e}function Ws(n,t){return yr(t).filter(e=>!tn(n,e))}var nn=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aa(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ca(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},At=class extends nn{name;get formDirective(){return null}get path(){return null}},Dt=class extends nn{_parent=null;name=null;valueAccessor=null},rn=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cc={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Am=Se(te({},cc),{"[class.ng-submitted]":"isSubmitted"}),me=(()=>{class n extends rn{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(f(Dt,2))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ue]})}return n})(),Me=(()=>{class n extends rn{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(f(At,10))};static \u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Je("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ue]})}return n})();var ai="VALID",en="INVALID",Ht="PENDING",li="DISABLED",st=class{},on=class extends st{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ci=class extends st{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},di=class extends st{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Wt=class extends st{status;source;constructor(t,e){super(),this.status=t,this.source=e}},br=class extends st{source;constructor(t){super(),this.source=t}},Cr=class extends st{source;constructor(t){super(),this.source=t}};function Pr(n){return(ln(n)?n.validators:n)||null}function dc(n){return Array.isArray(n)?aa(n):n||null}function Mr(n,t){return(ln(t)?t.asyncValidators:n)||null}function uc(n){return Array.isArray(n)?ca(n):n||null}function ln(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ma(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new F(1e3,"");if(!i[e])throw new F(1001,"")}function pa(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new F(1002,"")})}var qt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return tt(this.statusReactive)}set status(t){tt(()=>this.statusReactive.set(t))}_status=Zt(()=>this.statusReactive());statusReactive=ht(void 0);get valid(){return this.status===ai}get invalid(){return this.status===en}get pending(){return this.status==Ht}get disabled(){return this.status===li}get enabled(){return this.status!==li}errors;get pristine(){return tt(this.pristineReactive)}set pristine(t){tt(()=>this.pristineReactive.set(t))}_pristine=Zt(()=>this.pristineReactive());pristineReactive=ht(!0);get dirty(){return!this.pristine}get touched(){return tt(this.touchedReactive)}set touched(t){tt(()=>this.touchedReactive.set(t))}_touched=Zt(()=>this.touchedReactive());touchedReactive=ht(!1);get untouched(){return!this.touched}_events=new gi;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Hs(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Hs(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ws(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ws(t,this._rawAsyncValidators))}hasValidator(t){return tn(this._rawValidators,t)}hasAsyncValidator(t){return tn(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Se(te({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new di(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new di(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Se(te({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ci(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ci(!0,i))}markAsPending(t={}){this.status=Ht;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wt(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Se(te({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=li,this.errors=null,this._forEachChild(r=>{r.disable(Se(te({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new on(this.value,i)),this._events.next(new Wt(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(te({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ai,this._forEachChild(i=>{i.enable(Se(te({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Se(te({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ai||this.status===Ht)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new on(this.value,e)),this._events.next(new Wt(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Se(te({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?li:ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ht,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=ia(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Wt(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?li:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ht)?Ht:this._anyControlsHaveStatus(en)?en:ai}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ci(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new di(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ln(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=dc(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=uc(this._rawAsyncValidators)}},at=class extends qt{constructor(t,e,i){super(Pr(e),Mr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){pa(this,!0,t),Object.keys(t).forEach(i=>{ma(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Sr=class extends at{};var cn=new Ke("",{providedIn:"root",factory:()=>dn}),dn="always";function fa(n,t){return[...t.path,n]}function wr(n,t,e=dn){kr(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),pc(n,t),hc(n,t),fc(n,t),mc(n,t)}function qs(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),an(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sn(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mc(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function kr(n,t){let e=da(n);t.validator!==null?n.setValidators(zs(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=ua(n);t.asyncValidator!==null?n.setAsyncValidators(zs(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();sn(t._rawValidators,r),sn(t._rawAsyncValidators,r)}function an(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=da(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=ua(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return sn(t._rawValidators,i),sn(t._rawAsyncValidators,i),e}function pc(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ha(n,t)})}function fc(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ha(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function ha(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hc(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function gc(n,t){n==null,kr(n,t)}function vc(n,t){return an(n,t)}function ga(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function _c(n){return Object.getPrototypeOf(n.constructor)===Er}function yc(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function va(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===re?e=o:_c(o)?i=o:r=o}),r||i||e||null}function bc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ks(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Qs(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var he=class extends qt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Pr(e),Mr(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ln(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Qs(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ks(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ks(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Qs(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Cc=n=>n instanceof he;var Sc={provide:Dt,useExisting:ft(()=>mi)},Ys=Promise.resolve(),mi=(()=>{class n extends Dt{_changeDetectorRef;callSetDisabledState;control=new he;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=va(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ga(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ys.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&xo(i);Ys.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?fa(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(f(At,9),f(Ir,10),f(Tr,10),f(ui,10),f(_t,8),f(cn,8))};static \u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vt([Sc]),Ue,Ze]})}return n})();var ke=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var _a=new Ke("");var wc={provide:At,useExisting:ft(()=>xe)},xe=(()=>{class n extends At{callSetDisabledState;get submitted(){return tt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Zt(()=>this._submittedReactive());_submittedReactive=ht(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new De;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(an(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return wr(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){qs(e.control||null,e,!1),bc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),yc(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new br(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new Cr(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(qs(i||null,e),Cc(r)&&(wr(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);gc(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&vc(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kr(this.form,this),this._oldForm&&an(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(f(Ir,10),f(Tr,10),f(cn,8))};static \u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&A("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[vt([wc]),Ue,Ze]})}return n})();var xc={provide:Dt,useExisting:ft(()=>Ee)},Ee=(()=>{class n extends Dt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new De;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=va(this,o)}ngOnChanges(e){this._added||this._setUpControl(),ga(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return fa(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(f(At,13),f(Ir,10),f(Tr,10),f(ui,10),f(_a,8))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[vt([xc]),Ue,Ze]})}return n})();var Ec={provide:ui,useExisting:ft(()=>ba),multi:!0};function ya(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Ac(n){return n.split(":")[0]}var ba=(()=>{class n extends Er{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=T(ao).injector;destroyRef=T(Jr);cdr=T(_t);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,oo({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=ya(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Ac(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([Ec]),Ue]})}return n})(),Ca=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(ya(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(f(gt),f(Xt),f(ba,9))};static \u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Dc={provide:ui,useExisting:ft(()=>Sa),multi:!0};function Xs(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Ic(n){return n.split(":")[0]}var Sa=(()=>{class n extends Er{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],p=this._getOptionValue(u.value);r.push(p)}}else{let s=i.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let p=this._getOptionValue(u.value);r.push(p)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=Ic(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=yi(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vt([Dc]),Ue]})}return n})(),wa=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Xs(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Xs(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(f(gt),f(Xt),f(Sa,9))};static \u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var xa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=je({})}return n})(),xr=class extends qt{constructor(t,e,i){super(Pr(e),Mr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){pa(this,!1,t),t.forEach((i,r)=>{ma(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Zs(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var lt=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return Zs(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new at(r,o)}record(e,i=null){let r=this._reduceControls(e);return new Sr(r,i)}control(e,i,r){let o={};return this.useNonNullable?(Zs(i)?o=i:(o.validators=i,o.asyncValidators=r),new he(e,Se(te({},o),{nonNullable:!0}))):new he(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new xr(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof he)return e;if(e instanceof qt)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cn,useValue:e.callSetDisabledState??dn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=je({imports:[xa]})}return n})(),Fe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_a,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:cn,useValue:e.callSetDisabledState??dn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=je({imports:[xa]})}return n})();var un=class n{_FormBuilder=T(lt);_AuthService=T(ue);_CookieService=T(be);_Router=T(le);loginForm=this._FormBuilder.group({email:[null,[R.required,R.email]],password:[null,[R.required,R.pattern(/^\w{6,20}$/)]]});login(){this.loginForm.valid&&(console.log(this.loginForm),this._AuthService.SignIn(this.loginForm.value).subscribe({next:t=>{console.log(t),t.message==="success"&&(this._CookieService.set("token",t.token),this._CookieService.get("token")&&(this._AuthService.decodeToken(),console.log(this._AuthService.userInfo)),this._Router.navigate(["/home"]))}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","email","type","email","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],["formControlName","password","type","password","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],[1,"main-btn",3,"disabled"],[1,"mt-4","text-center"],["routerLink","/forgotpassword",1,"main-btn"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Login Now"),c(),l(4,"form",3),A("ngSubmit",function(){return i.login()}),l(5,"div",4),v(6,"input",5),l(7,"label",6),m(8,"Email"),c()(),l(9,"div",4),v(10,"input",7),l(11,"label",6),m(12,"Password"),c()(),l(13,"button",8),m(14,"Login"),c()(),l(15,"div",9)(16,"button",10),m(17," Forgot Password "),c()()()()),e&2&&(d(4),g("formGroup",i.loginForm),d(9),g("disabled",i.loginForm.invalid))},dependencies:[Fe,ke,re,me,Me,xe,Ee,ce],encapsulation:2})};var Tc=(n,t)=>({"my-valid":n,"my-invalid":t});function Pc(n,t){n&1&&(l(0,"p",13),m(1,"Name is req"),c())}function Mc(n,t){n&1&&(l(0,"p",13),m(1,"Name is short"),c())}function kc(n,t){n&1&&(l(0,"p",13),m(1,"Name is long"),c())}function Fc(n,t){if(n&1&&(l(0,"div",7),U(1,Pc,2,0,"p",13),U(2,Mc,2,0,"p",13),U(3,kc,2,0,"p",13),c()),n&2){y();let e=Nt(9);d(),G(e!=null&&e.getError("required")?1:-1),d(),G(e!=null&&e.getError("minlength")?2:-1),d(),G(e!=null&&e.getError("maxlength")?3:-1)}}function Nc(n,t){n&1&&(l(0,"p",13),m(1,"Email is req"),c())}function Vc(n,t){n&1&&(l(0,"p",13),m(1,"Email in no valid"),c())}function Oc(n,t){if(n&1&&(l(0,"div",7),U(1,Nc,2,0,"p",13),U(2,Vc,2,0,"p",13),c()),n&2){y();let e=Nt(15);d(),G(e!=null&&e.getError("required")?1:-1),d(),G(e!=null&&e.getError("email")?2:-1)}}function Rc(n,t){n&1&&(l(0,"p",13),m(1,"password is req"),c())}function Lc(n,t){n&1&&(l(0,"p",13),m(1,"password in no valid"),c())}function jc(n,t){if(n&1&&(l(0,"div",7),U(1,Rc,2,0,"p",13),U(2,Lc,2,0,"p",13),c()),n&2){y();let e=Nt(21);d(),G(e!=null&&e.getError("required")?1:-1),d(),G(e!=null&&e.getError("pattern")?2:-1)}}function Bc(n,t){n&1&&(l(0,"p",13),m(1,"repassword is req"),c())}function Uc(n,t){n&1&&(l(0,"p",13),m(1,"repassword in no valid"),c())}function Gc(n,t){n&1&&(l(0,"p",13),m(1,"repassword not the same"),c())}function $c(n,t){if(n&1&&(l(0,"div",7),U(1,Bc,2,0,"p",13),U(2,Uc,2,0,"p",13),U(3,Gc,2,0,"p",13),c()),n&2){let e=y(),i=Nt(27);d(),G(i!=null&&i.getError("required")?1:-1),d(),G(i!=null&&i.getError("pattern")?2:-1),d(),G(e.registerForm!=null&&e.registerForm.getError("missMatch")?3:-1)}}function zc(n,t){n&1&&(l(0,"p",13),m(1,"phone is req"),c())}function Hc(n,t){n&1&&(l(0,"p",13),m(1,"phone in no valid"),c())}function Wc(n,t){if(n&1&&(l(0,"div",7),U(1,zc,2,0,"p",13),U(2,Hc,2,0,"p",13),c()),n&2){y();let e=Nt(33);d(),G(e!=null&&e.getError("required")?1:-1),d(),G(e!=null&&e.getError("pattern")?2:-1)}}var mn=class n{_AuthService=T(ue);_Router=T(le);registerForm=new at({name:new he(null,[R.required,R.minLength(3),R.maxLength(10)]),email:new he(null,[R.required,R.email]),password:new he(null,[R.required,R.pattern(/^\w{6,20}$/)]),rePassword:new he(null,[R.required,R.pattern(/^\w{6,20}$/)]),phone:new he(null,[R.required,R.pattern(/^01[0125][0-9]{8}$/)])},{validators:this.confirm});confirm(t){return t.get("password")?.value==t.get("rePassword")?.value?null:{missMatch:!0}}register(){this.registerForm.valid&&(console.log(this.registerForm.value),this._AuthService.SignUp(this.registerForm.value).subscribe({next:t=>{console.log(t),t.message==="success"&&this._Router.navigate(["/login"])},error:t=>{console.log(t)}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-register"]],decls:37,vars:17,consts:[[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","name","type","text","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],[1,"bg-red-400","p-5","my-4","rounded-3xl","font-bold"],["formControlName","email","type","email","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["formControlName","password","type","password","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["formControlName","rePassword","type","password","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["formControlName","phone","type","tel","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],[1,"main-btn",3,"disabled"],[1,"text-2xl"]],template:function(e,i){if(e&1){let r=B();l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Register Now"),c(),l(4,"form",3),A("ngSubmit",function(){return M(r),k(i.register())}),l(5,"div",4),v(6,"input",5),l(7,"label",6),m(8,"Name"),c(),kt(9),U(10,Fc,4,3,"div",7),c(),l(11,"div",4),v(12,"input",8),l(13,"label",6),m(14,"Email"),c(),kt(15),U(16,Oc,3,2,"div",7),c(),l(17,"div",4),v(18,"input",9),l(19,"label",6),m(20,"Password"),c(),kt(21),U(22,jc,3,2,"div",7),c(),l(23,"div",4),v(24,"input",10),l(25,"label",6),m(26,"Confirm Password"),c(),kt(27),U(28,$c,4,3,"div",7),c(),l(29,"div",4),v(30,"input",11),l(31,"label",6),m(32,"Phone"),c(),kt(33),U(34,Wc,3,2,"div",7),c(),l(35,"button",12),m(36,"Submit"),c()()()()}if(e&2){let r;d(4),g("formGroup",i.registerForm),d(2),Si(bo(14,Tc,!((r=i.registerForm.get("name"))!=null&&r.errors)&&(((r=i.registerForm.get("name"))==null?null:r.touched)||((r=i.registerForm.get("name"))==null?null:r.dirty)),((r=i.registerForm.get("name"))==null?null:r.errors)&&(((r=i.registerForm.get("name"))==null?null:r.touched)||((r=i.registerForm.get("name"))==null?null:r.dirty)))),d(3);let o=Ft(i.registerForm.get("name"));d(),G(o!=null&&o.errors&&(o!=null&&o.touched)?10:-1),d(5);let s=Ft(i.registerForm.get("email"));d(),G(s!=null&&s.errors&&(s!=null&&s.touched)?16:-1),d(5);let a=Ft(i.registerForm.get("password"));d(),G(a!=null&&a.errors&&(a!=null&&a.touched)?22:-1),d(5);let u=Ft(i.registerForm.get("rePassword"));d(),G(i.registerForm!=null&&i.registerForm.errors&&(u!=null&&u.touched)?28:-1),d(5);let p=Ft(i.registerForm.get("phone"));d(),G(p!=null&&p.errors&&(p!=null&&p.touched)?34:-1),d(),g("disabled",i.registerForm.invalid)}},dependencies:[Fe,ke,re,me,Me,xe,Ee],encapsulation:2})};var pn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-main-layout"]],decls:3,vars:1,consts:[[1,"sticky","top-0","end-0","start-0","z-[100000]"],[3,"check"]],template:function(e,i){e&1&&(l(0,"div",0),v(1,"app-navbar",1),c(),v(2,"router-outlet")),e&2&&(d(),g("check",!0))},dependencies:[Rt,$t],encapsulation:2})};var dt=class n{_HttpClient=T(ze);baseURL="https://ecommerce.routemisr.com/api/v1/products";getAllCategories(){return this._HttpClient.get(`${$.baseURL}/api/v1/categories`)}getSubCategories(t){return this._HttpClient.get(`${$.baseURL}/api/v1/categories/${t}/subcategories`)}getAllProducts(t){return this._HttpClient.get(`${$.baseURL}/api/v1/products?subcategory=${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Kc=(n,t)=>t._id;function Qc(n,t){if(n&1&&(v(0,"img",4),l(1,"h2"),m(2),c()),n&2){let e=y().$implicit;g("src",e.image,Z)("alt",e.name),d(2),P(" ",e.name," ")}}function Yc(n,t){if(n&1&&H(0,Qc,3,3,"ng-template",3),n&2){let e=t.$implicit;g("id",e._id)}}var fn=class n{constructor(t){this._CatagoriesService=t}allCategories;customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,autoplay:!0,margin:10,autoplaySpeed:500,autoplayHoverPause:!0,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1};ngOnInit(){this._CatagoriesService.getAllCategories().subscribe({next:t=>{this.allCategories=t.data,console.log(t.data)},error:t=>{console.log(t)}})}static \u0275fac=function(e){return new(e||n)(f(dt))};static \u0275cmp=E({type:n,selectors:[["app-categories-slider"]],decls:5,vars:1,consts:[[1,"main-section"],[1,"container-auto"],[3,"options"],["carouselSlide","",3,"id"],[1,"h-[250px]",3,"src","alt"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"owl-carousel-o",2),J(3,Yc,1,1,null,3,Kc),c()()()),e&2&&(d(2),g("options",i.customOptions),d(),ee(i.allCategories))},dependencies:[nt,Pi,Ti],encapsulation:2})};function Xc(n,t){n&1&&v(0,"img",9)}function Zc(n,t){n&1&&v(0,"img",10)}function Jc(n,t){n&1&&v(0,"img",11)}function ed(n,t){n&1&&v(0,"img",12)}function td(n,t){n&1&&v(0,"img",13)}var hn=class n{myOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,autoplay:!0,autoplaySpeed:200,navSpeed:700,navText:["",""],responsive:{0:{items:1}},nav:!1};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-main-slider"]],decls:13,vars:1,consts:[[1,"main-slider"],[1,"container-auto"],[1,"flex","flex-wrap"],[1,"w-full","md:w-1/2","lg:w-3/4"],[3,"options"],["carouselSlide",""],[1,"w-full","md:w-1/2","lg:w-1/4"],["src","./images/banner-4.jpeg","alt","",1,"w-full","block","h-40"],["src","./images/grocery-banner-2.jpeg","alt","",1,"w-full","block","h-40"],["src","./images/img1.avif","alt","",1,"h-80"],["src","./images/img2.avif","alt","",1,"h-80"],["src","./images/img3.avif","alt","",1,"h-80"],["src","./images/img5.avif","alt","",1,"h-80"],["src","./images/img4.avif","alt","",1,"h-80"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"owl-carousel-o",4),H(5,Xc,1,0,"ng-template",5)(6,Zc,1,0,"ng-template",5)(7,Jc,1,0,"ng-template",5)(8,ed,1,0,"ng-template",5)(9,td,1,0,"ng-template",5),c()(),l(10,"div",6),v(11,"img",7)(12,"img",8),c()()()()),e&2&&(d(4),g("options",i.myOptions))},dependencies:[nt,Pi,Ti],encapsulation:2})};var Kt=class n{transform(t,e){return t.filter(i=>i.title.toLowerCase().includes(e.toLowerCase()))}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Mt({name:"search",type:n,pure:!0})};var id=["overlay"],nd=["*"];function rd(n,t){n&1&&v(0,"div")}function od(n,t){if(n&1&&(l(0,"div"),H(1,rd,1,0,"div",6),c()),n&2){let e=y(2);Si(e.spinner.class),Ci("color",e.spinner.color),d(),g("ngForOf",e.spinner.divArray)}}function sd(n,t){if(n&1&&(v(0,"div",7),we(1,"safeHtml")),n&2){let e=y(2);g("innerHTML",Ai(1,1,e.template),to)}}function ad(n,t){if(n&1&&(l(0,"div",2,0),H(2,od,2,5,"div",3)(3,sd,2,3,"div",4),l(4,"div",5),fo(5),c()()),n&2){let e=y();Ci("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),g("@.disabled",e.disableAnimation)("@fadeIn","in"),d(2),g("ngIf",!e.template),d(),g("ngIf",e.template),d(),Ci("z-index",e.spinner.zIndex)}}var ld={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Nr={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},Vr="primary",It=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},pi=(()=>{let t=class t{constructor(){this.spinnerObservable=new vi(null)}getSpinner(i){return this.spinnerObservable.asObservable().pipe(qr(r=>r&&r.name===i))}show(i=Vr,r){return new Promise((o,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=i,this.spinnerObservable.next(new It(Se(te({},r),{show:!0}))),o(!0)):(this.spinnerObservable.next(new It({name:i,show:!0})),o(!0))},10)})}hide(i=Vr,r=10){return new Promise((o,s)=>{setTimeout(()=>{this.spinnerObservable.next(new It({name:i,show:!1})),o(!0)},r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Ea=new Ke("NGX_SPINNER_CONFIG"),cd=(()=>{let t=class t{constructor(i){this.sanitizer=i}transform(i){return i?this.sanitizer.bypassSecurityTrustHtml(i):""}};t.\u0275fac=function(r){return new(r||t)(f(Vo,16))},t.\u0275pipe=Mt({name:"safeHtml",type:t,pure:!0});let n=t;return n})(),Aa=(()=>{let t=class t{constructor(i,r,o,s){this.spinnerService=i,this.changeDetector=r,this.elementRef=o,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new It,this.ngUnsubscribe=new gi,this.setDefaultOptions=()=>{let{type:a}=this.globalConfig??{};this.spinner=It.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??a,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=Nr.BD_COLOR,this.zIndex=Nr.Z_INDEX,this.color=Nr.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=Vr,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Yr(this.ngUnsubscribe)).subscribe(i=>{this.setDefaultOptions(),Object.assign(this.spinner,i),i.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(i){return i===this.elementRef.nativeElement.parentElement?!0:i.parentNode&&this.isSpinnerZone(i.parentNode)}ngOnChanges(i){for(let r in i)if(r){let o=i[r];if(o.isFirstChange())return;typeof o.currentValue<"u"&&o.currentValue!==o.previousValue&&o.currentValue!==""&&(this.spinner[r]=o.currentValue,r==="showSpinner"&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),r==="name"&&this.initObservable())}}getClass(i,r){this.spinner.divCount=ld[i],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,a)=>a);let o="";switch(r.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x";break;default:break}return"la-"+i+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};t.\u0275fac=function(r){return new(r||t)(f(pi),f(_t),f(gt),f(Ea,8))},t.\u0275cmp=E({type:t,selectors:[["ngx-spinner"]],viewQuery:function(r,o){if(r&1&&ho(id,5),r&2){let s;go(s=vo())&&(o.spinnerDOM=s.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[Ze],ngContentSelectors:nd,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(r,o){r&1&&(po(),H(0,ad,6,12,"div",1)),r&2&&g("ngIf",o.spinner.show)},dependencies:[cd,Te,Vt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Bo("fadeIn",[Go("in",yt({opacity:1})),Gn(":enter",[yt({opacity:0}),Un(300)]),Gn(":leave",Un(200,yt({opacity:0})))])]},changeDetection:0});let n=t;return n})(),Da=(()=>{let t=class t{static forRoot(i){return{ngModule:t,providers:[{provide:Ea,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Be({type:t}),t.\u0275inj=je({});let n=t;return n})();var ud=n=>["/p_details",n],md=(n,t)=>t._id;function pd(n,t){if(n&1){let e=B();l(0,"div",5)(1,"div",6)(2,"div",7)(3,"div"),v(4,"img",8),c(),l(5,"h3",9),m(6),c(),l(7,"h1",10),m(8),c(),l(9,"div",11)(10,"span"),m(11),c(),l(12,"span"),v(13,"i",12),m(14),c()(),l(15,"i",13),A("click",function(){let r=M(e).$implicit,o=y();return k(o.toggleWishList(r))}),c()(),l(16,"button",14),A("click",function(){let r=M(e).$implicit,o=y();return k(o.addToCart(r._id))}),m(17,"Add to Cart +"),c()()()}if(n&2){let e=t.$implicit;d(2),g("routerLink",Ie(8,ud,e._id)),d(2),g("src",e.imageCover,Z)("alt",e.title),d(2),P("",e.category.name," "),d(2),P("",e.title.split(" ",3).join(" ")," "),d(3),P("",e.price," EGP"),d(3),X(e.ratingsAverage),d(),g("ngClass",e.inwishlist?"text-red-600":"text-black")}}var gn=class n{constructor(t,e,i,r,o){this._ProductsService=t;this._CartService=e;this.toastr=i;this._WishlistService=r;this._NgxSpinnerService=o}products;fromInput="";ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:t=>{this.products=t.data,console.log(this.products)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0,toastClass:"myToast",positionClass:"toast-top-left"})}})}toggleWishList(t){t.inwishlist?(t.inwishlist=!1,this._WishlistService.RemoveProductFromWishList(t._id).subscribe({next:e=>{this.toastr.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inwishlist=!0,this._WishlistService.AddProductToWishList(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inwishlist=!1}}))}static \u0275fac=function(e){return new(e||n)(f(rt),f(de),f(ve),f(He),f(pi))};static \u0275cmp=E({type:n,selectors:[["app-home"]],decls:13,vars:4,consts:[[1,"main-section"],[1,"container-auto"],[1,"section-head","text-center"],["type","text","placeholder","Search...","name","","id","",1,"w-1/2","block","mx-auto","rounded-2xl","p-5","focus:transition-all","focus:duration-500","focus:border-2","focus:border-emerald-500",3,"ngModelChange","ngModel"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","2xl:grid-cols-5"],[1,"outter","p-3"],[1,"product","p-2","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-700","font-extrabold","py-2"],[1,"text-emerald-500","font-medium","py-2"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","rating-color"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"]],template:function(e,i){e&1&&(l(0,"section",0),v(1,"app-main-slider"),c(),l(2,"section",0),v(3,"app-categories-slider"),c(),l(4,"section",0)(5,"div",1)(6,"h1",2),m(7," Popular Products "),c(),l(8,"input",3),Ei("ngModelChange",function(o){return xi(i.fromInput,o)||(i.fromInput=o),o}),c(),l(9,"div",4),J(10,pd,18,10,"div",5,md),we(12,"search"),c()()()),e&2&&(d(8),wi("ngModel",i.fromInput),d(2),ee($e(12,1,i.products.slice(0,15),i.fromInput)))},dependencies:[fn,hn,ce,qe,re,me,mi,it,Kt],encapsulation:2})};var yn=class n{constructor(t){this.router=t}goHome(){this.router.navigateByUrl("/home")}static \u0275fac=function(e){return new(e||n)(f(le))};static \u0275cmp=E({type:n,selectors:[["app-notfound"]],decls:10,vars:0,consts:[[1,"w-full","min-h-[calc(100vh-120px)]","flex","flex-col","items-center","justify-center","p-4","bg-gray-50"],[1,"mb-6","max-w-xs","w-full"],["src","./images/error.svg","alt","Not Found",1,"w-full","h-auto","object-contain"],[1,"text-center","mb-6"],[1,"text-3xl","font-bold","text-emerald-500","mb-2"],[1,"text-gray-600","text-lg"],[1,"bg-emerald-500","text-white","px-6","py-3","rounded-lg","hover:bg-emerald-600","transition",3,"click"]],template:function(e,i){e&1&&(L(0,"section",0)(1,"div",1),Ge(2,"img",2),N(),L(3,"div",3)(4,"h1",4),m(5,"Oops! Page not found"),N(),L(6,"p",5),m(7,"The page you are looking for does not exist."),N()(),L(8,"button",6),mo("click",function(){return i.goHome()}),m(9," Go Back Home "),N()())},encapsulation:2})};var Qt=class n{_HttpClient=T(ze);baseURL="https://ecommerce.routemisr.com/api/v1/brands";getAllBrands(){return this._HttpClient.get(`${$.baseURL}/api/v1/brands`)}getAllProducts(t){return this._HttpClient.get(`${$.baseURL}/api/v1/products?brand=${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var fd=n=>["/br-details",n],hd=(n,t)=>t._id;function gd(n,t){if(n&1){let e=B();l(0,"div",4)(1,"div",5),A("click",function(){let r=M(e).$implicit,o=y();return k(o.openBrand(r._id))}),l(2,"div",6),v(3,"img",7),c(),l(4,"div",8)(5,"h1",9),m(6),c()()()()}if(n&2){let e=t.$implicit;d(),g("routerLink",Ie(4,fd,e._id)),d(2),g("src",e.image,Z)("alt",e.slug),d(3),P("",e.name," ")}}var bn=class n{constructor(t){this._BrandService=t}allBrands;selectedSpecificBrand;ngOnInit(){this._BrandService.getAllBrands().subscribe({next:t=>{console.log(t),this.allBrands=t.data,console.log(t.data)},error:t=>{console.log(t)}})}openBrand(t){this._BrandService.getAllProducts(t).subscribe({next:e=>{this.selectedSpecificBrand=e.data,console.log(e.data)},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)(f(Qt))};static \u0275cmp=E({type:n,selectors:[["app-brands"]],decls:7,vars:0,consts:[[1,"main-section"],[1,"container-auto","overflow-hidden"],[1,"section-head","text-center","font-bold","text-3xl","text-emerald-500","mb-6","py-3"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","2xl:grid-cols-5","gap-5","p-5"],[1,"outter","p-3"],[1,"brand-card","group","bg-white","border","rounded","cursor-pointer","shadow-md","transition","transform","duration-500","hover:shadow-lg","group-hover:bg-emerald-500","group-hover:focus:bg-emerald-600","text-center","hover:scale-105",3,"click","routerLink"],[1,"overflow-hidden","h-60"],[1,"w-full","block","object-contain",3,"src","alt"],[1,"text-center"],[1,"text-emerald-500","text-lg","font-semibold","text-center"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3," All Brands "),c(),l(4,"div",3),J(5,gd,7,6,"div",4,hd),c()()()),e&2&&(d(5),ee(i.allBrands))},dependencies:[ce],encapsulation:2})};var vd=n=>["/subcategory",n],Ta=(n,t)=>t._id;function _d(n,t){if(n&1){let e=B();l(0,"div",7),A("click",function(){let r=M(e).$implicit,o=y();return k(o.showSubCategories(r._id,r.name))}),l(1,"div",8),v(2,"img",9),c(),l(3,"div",10)(4,"p",11),m(5),c()()()}if(n&2){let e=t.$implicit;d(2),g("src",e.image,Z)("alt",e.slug),d(3),P(" ",e.name," ")}}function yd(n,t){if(n&1&&(l(0,"h1",12),m(1),c()),n&2){let e=y();d(),P(" ",e.categoryTitle," subcategories ")}}function bd(n,t){if(n&1&&(l(0,"div",13)(1,"h3",14),m(2),c()()),n&2){let e=t.$implicit;g("routerLink",Ie(2,vd,e._id)),d(2),X(e.name)}}function Cd(n,t){if(n&1&&(l(0,"div",3),J(1,bd,3,4,"div",13,Ta),c()),n&2){let e=y();d(),ee(e.selectedSubCategories)}}function Sd(n,t){n&1&&(l(0,"p",16),m(1,"There are no sub-Categories currently"),c())}function wd(n,t){if(n&1&&H(0,Sd,2,0,"p",15),n&2){let e=y();g("ngIf",(e.selectedSubCategories==null?null:e.selectedSubCategories.length)===0)}}var Cn=class n{constructor(t){this._CatagoriesService=t}categoryTitle="";allCategories;selectedSubCategories;activeCategoryId;ngOnInit(){this._CatagoriesService.getAllCategories().subscribe({next:t=>{this.allCategories=t.data,console.log(t.data)},error:t=>{console.log(t)}})}showSubCategories(t,e){this.categoryTitle=e,this._CatagoriesService.getSubCategories(t).subscribe({next:i=>{this.selectedSubCategories=i.data,console.log(i)},error:i=>{console.log(i)}})}static \u0275fac=function(e){return new(e||n)(f(dt))};static \u0275cmp=E({type:n,selectors:[["app-categories"]],decls:9,vars:3,consts:[["noSubCategories",""],[1,"main-section"],[1,"container-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","p-6"],[1,"category-card","border","rounded-lg","shadow-sm","transition","cursor-pointer","bg-white","hover:shadow-emerald-300","hover:shadow-md","hover:border-emerald-500","hover:scale-105","duration-300","border-gray-200","overflow-hidden"],["class","text-emerald-500 text-center font-bold text-4xl mb-6 py-3",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6",4,"ngIf","ngIfElse"],[1,"category-card","border","rounded-lg","shadow-sm","transition","cursor-pointer","bg-white","hover:shadow-emerald-300","hover:shadow-md","hover:border-emerald-500","hover:scale-105","duration-300","border-gray-200","overflow-hidden",3,"click"],[1,"w-full","h-[300px]","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"p-4"],[1,"text-center","text-emerald-600","font-bold","text-xl"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-6","py-3"],[1,"card","border","rounded-lg","shadow-sm","transition","cursor-pointer","bg-emerald-100","p-4","flex","items-center","justify-center","hover:shadow-md","hover:text-emerald-500","hover:scale-105","duration-300","overflow-hidden",3,"routerLink"],[1,"text-gray-700","font-medium","text-base"],["class","text-center text-gray-500 text-lg py-6",4,"ngIf"],[1,"text-center","text-gray-500","text-lg","py-6"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2)(2,"div",3),J(3,_d,6,3,"div",4,Ta),c(),H(5,yd,2,1,"h1",5)(6,Cd,3,0,"div",6)(7,wd,1,1,"ng-template",null,0,et),c()()),e&2){let r=W(8);d(3),ee(i.allCategories),d(2),g("ngIf",i.categoryTitle),d(),g("ngIf",i.selectedSubCategories&&i.selectedSubCategories.length>0)("ngIfElse",r)}},dependencies:[nt,ce,Te],encapsulation:2})};var xd=n=>["/checkout",n],Ed=(n,t)=>t.product._id;function Ad(n,t){if(n&1){let e=B();l(0,"i",18),A("click",function(){M(e);let r=y().$implicit,o=y();return k(o.changeCount(r.product._id,r.count-1))}),c()}}function Dd(n,t){if(n&1){let e=B();l(0,"div",4)(1,"div",7),v(2,"img",8),c(),l(3,"div",9)(4,"h1",10),m(5),c(),l(6,"h2",11),m(7),c(),l(8,"h6",12),A("click",function(){let r=M(e).$implicit,o=y();return k(o.deleteProduct(r.product._id))}),l(9,"span"),m(10,"Remove item from cart"),c(),v(11,"i",13),c()(),l(12,"div",14)(13,"div",15)(14,"i",16),A("click",function(){let r=M(e).$implicit,o=y();return k(o.changeCount(r.product._id,r.count+1))}),c(),l(15,"h3"),m(16),c(),U(17,Ad,1,0,"i",17),c()()()}if(n&2){let e=t.$implicit;d(2),g("src",e.product.imageCover,Z),d(3),P(" ",e.product.title," "),d(2),P(" ",e.price," EGP"),d(9),P(" ",e.count," "),d(),G(e.count>1?17:-1)}}function Id(n,t){if(n&1){let e=B();l(0,"button",19),A("click",function(){M(e);let r=y();return k(r.clearCart())}),m(1,"Clear Your Cart"),c()}}function Td(n,t){if(n&1&&(l(0,"button",6),m(1,"Check out"),c()),n&2){let e=y();g("routerLink",Ie(1,xd,e.cartData._id))}}var Sn=class n{_CartService=T(de);toastr=T(ve);cartData={};ngOnInit(){this._CartService.GetLoggedUserCart().subscribe({next:t=>{console.log(t),this.cartData=t.data}})}changeCount(t,e){this._CartService.UpdateCartProductQuantity(t,e).subscribe({next:i=>{console.log(i),this.cartData=i.data}})}deleteProduct(t){this._CartService.RemovespecifiCartItem(t).subscribe({next:e=>{this._CartService.cartCount.next(e.numOfCartItems),console.log(e),this.cartData=e.data}})}clearCart(){this._CartService.ClearUserCart().subscribe({next:t=>{console.log(t),this.toastr.success("\u{1F6D2}",t.message,t.status),this.cartData.products=[],this._CartService.cartCount.next(0),this.cartData.totalCartPrice=0},error:t=>{console.error(t),this.toastr.error("\u274C","Failed to clear basket")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-cart"]],decls:10,vars:3,consts:[[1,"main-section"],[1,"container-auto"],[1,"section-head","my-3"],[1,"font-black","text-2xl","text-emerald-500","my-3"],[1,"flex","flex-wrap","items-center","justify-between","border-b-2","border-e-neutral-400","my-3"],[1,"font-bold","cursor-pointer","my-3","p-3","w-full","block","bg-red-500","hover:bg-red-600","text-white","py-2","px-6","rounded-full","shadow-md","duration-500"],[1,"main-btn",3,"routerLink"],[1,"w-full","lg:w-1/6"],["alt","",1,"w-full","block",3,"src"],[1,"w-full","lg:w-2/4"],[1,"font-bold","text-2xl","text-emerald-600","my-4"],[1,"font-bold","text-xl","text-emerald-500","my-4"],[1,"cursor-pointer","text-2xl","font-bold","text-red-500","my-4","w-full","lg:w-1/2","justify-center","flex","flex-wrap","lg:justify-between","items-center",3,"click"],[1,"fa","fa-trash-can"],[1,"w-full","lg:w-1/12"],[1,"flex","flex-wrap","justify-evenly","lg:justify-between","items-center","text-2xl","text-emerald-400","font-bold"],[1,"fa","fa-plus-circle","cursor-pointer",3,"click"],[1,"fa","fa-minus-circle","cursor-pointer"],[1,"fa","fa-minus-circle","cursor-pointer",3,"click"],[1,"font-bold","cursor-pointer","my-3","p-3","w-full","block","bg-red-500","hover:bg-red-600","text-white","py-2","px-6","rounded-full","shadow-md","duration-500",3,"click"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Shop Cart"),c(),l(4,"h3",3),m(5),c(),J(6,Dd,18,5,"div",4,Ed),U(8,Id,2,0,"button",5),U(9,Td,2,3,"button",6),c()()),e&2&&(d(5),P(" Total cart price ",i.cartData.totalCartPrice," "),d(),ee(i.cartData.products),d(2),G(i.cartData.products.length>0?8:-1),d(),G(i.cartData.products.length>0?9:-1))},dependencies:[ce],encapsulation:2})};var Pa=(n,t)=>{let e=T(be),i=T(le);return e.get("token")?!0:i.parseUrl("/login")};var Yt=class n{_HttpClient=T(ze);CheckOutSession(t,e){return this._HttpClient.post(`${$.baseURL}/api/v1/orders/checkout-session/${t}?url=${$.domain}`,{shippingAddress:e})}getUserOrders(t){return this._HttpClient.get(`${$.baseURL}/api/v1/orders/user/${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var wn=class n{_ActivatedRoute=T(Ot);_OrdersService=T(Yt);cartId;checkOutForm=new at({details:new he(null,R.required),phone:new he(null,[R.required,R.pattern(/^01[0125][0-9]{8}$/)]),city:new he(null,R.required)});ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.cartId=t.get("c_id"),console.log(this.cartId)}})}checkOut(){this.checkOutForm.valid&&(console.log(this.checkOutForm),this._OrdersService.CheckOutSession(this.cartId,this.checkOutForm.value).subscribe({next:t=>{console.log(t),window.open(t.session.url,"_self")}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-checkout"]],decls:25,vars:2,consts:[[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","details","type","text","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],["formControlName","phone","type","tel","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["list","cityList","formControlName","city","type","text","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["id","cityList"],["value","cairo"],["value","alex"],["value","asiut"],["value","giza"],["value","matrouh"],[1,"main-btn",3,"disabled"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Checkout"),c(),l(4,"form",3),A("ngSubmit",function(){return i.checkOut()}),l(5,"div",4),v(6,"input",5),l(7,"label",6),m(8,"Details"),c()(),l(9,"div",4),v(10,"input",7),l(11,"label",6),m(12,"Phone"),c()(),l(13,"div",4),v(14,"input",8),l(15,"label",6),m(16,"City"),c(),l(17,"datalist",9),v(18,"option",10)(19,"option",11)(20,"option",12)(21,"option",13)(22,"option",14),c()(),l(23,"button",15),m(24,"Payment"),c()()()()),e&2&&(d(4),g("formGroup",i.checkOutForm),d(19),g("disabled",i.checkOutForm.invalid))},dependencies:[Fe,ke,Ca,wa,re,me,Me,xe,Ee],encapsulation:2})};var Ma=(n,t)=>t._id;function Pd(n,t){if(n&1&&(L(0,"h4"),m(1),we(2,"date"),N()),n&2){let e=y().$implicit;d(),P(" ",Ai(2,1,e.paidAt)," ")}}function Md(n,t){n&1&&(L(0,"h4"),m(1,"Cash on Delivery"),N())}function kd(n,t){if(n&1&&(L(0,"div",15)(1,"div",16)(2,"div",17),Ge(3,"img",18),N(),L(4,"div",10)(5,"h1",19),m(6),N(),L(7,"h1",20),m(8),N()()(),L(9,"h1",21),m(10),we(11,"currency"),N()()),n&2){let e=t.$implicit;d(3),uo("src",e.product.imageCover,Z),d(3),P(" ",e.product.title.split(" ",2).join(" ")," "),d(2),yo(" quantity: ",e.count," / brand: ",e.product.brand.name," / category: ",e.product.category.name," "),d(2),P(" ",$e(11,6,e.price,"GBP")," ")}}function Fd(n,t){if(n&1&&(L(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1",9),m(4,"#OrderID:"),N(),L(5,"h4"),m(6),N()()(),L(7,"div",7)(8,"div",8)(9,"h1",9),m(10,"PaymentMethod"),N(),L(11,"h4",10),m(12),N()()(),L(13,"div",7)(14,"div",8)(15,"h1",9),m(16,"Taxes"),N(),L(17,"h4"),m(18),N()()(),L(19,"div",7)(20,"div",8)(21,"h1",9),m(22,"Total Price"),N(),L(23,"h4"),m(24),N()()(),L(25,"div",7)(26,"div",8)(27,"h1",9),m(28,"Paid at"),N(),U(29,Pd,3,3,"h4")(30,Md,2,0,"h4"),N()()(),L(31,"div",11)(32,"div",12)(33,"h1",13),m(34,"Order Details"),N(),L(35,"h1",13),m(36,"Sub Total"),N()(),L(37,"h1",14),m(38,"Products"),N(),J(39,kd,12,9,"div",15,Ma),N()),n&2){let e=t.$implicit;d(6),P(" ",e.id," "),d(6),P(" ",e.paymentMethodType," "),d(6),P(" ",e.taxPrice," "),d(6),P(" ",e.totalOrderPrice," "),d(5),G(e.paidAt?29:30),d(10),ee(e.cartItems.slice().reverse())}}var xn=class n{_OrdersService=T(Yt);_AuthService=T(ue);allOrders;userId;ngOnInit(){let t=this._AuthService.userInfo;t&&t.id?(this.userId=t.id,this._OrdersService.getUserOrders(this.userId).subscribe({next:e=>{this.allOrders=e,console.log(this.allOrders)},error:e=>{console.error("Error fetching orders:",e)}})):console.error("User not found!")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-allorders"]],decls:10,vars:0,consts:[[1,"main-section"],[1,"container-auto","w-3/4"],[1,"p-2","flex","flex-col","items-center"],[1,"text-8xl","text-emerald-400","fa-solid","fa-circle-check"],[1,"section-head","p-5"],[1,"font-light","text-gray-500"],[1,"md:flex","flex-wrap","text-black","justify-center","text-2xl","text-center"],[1,"lg:w-1/5"],[1,"details","my-3","bg-emerald-100","p-7"],[1,"font-bold","font-sans","text-emerald-500"],[1,""],[1,"border-2","border-emerald-500/50","shadow-2xl","shadow-emerald-500/45"],[1,"flex","flex-wrap","justify-between","border-b-2","border-b-emerald-100","py-2"],[1,"font-serif","text-emerald-800","font-light","text-2xl"],[1,"font-sans","text-emerald-800","font-extralight","text-2xl"],[1,"flex","flex-wrap","items-center","justify-between"],[1,"flex","flex-wrap","items-center"],[1,"img-box","p-3"],["alt","",1,"size-48","object-contain","block",3,"src"],[1,"font-bold","text-emerald-600"],[1,"font-serif","font-extralight","text-gray-500"],[1,"font-serif","font-light","text-2xl","text-gray-500"]],template:function(e,i){e&1&&(L(0,"section",0)(1,"div",1)(2,"div",2),Ge(3,"i",3),L(4,"h1",4),m(5,"Your Order Completed"),N(),L(6,"p",5),m(7,"Thank you.Your Order has been received"),N()(),J(8,Fd,41,5,null,null,Ma),N()()),e&2&&(d(8),ee(i.allOrders.slice().reverse()))},dependencies:[Do,Eo],encapsulation:2})};var Nd=(n,t)=>t._id;function Vd(n,t){if(n&1){let e=B();l(0,"div",5)(1,"div",6)(2,"div")(3,"div"),v(4,"img",7),c(),l(5,"h1",8),m(6),c(),l(7,"h2",9),m(8),c(),l(9,"div",10)(10,"span"),m(11),c(),l(12,"span"),v(13,"i",11),m(14),c()(),l(15,"i",12),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.toggleWishList(r))}),c()(),l(16,"button",13),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.addToCart(r._id))}),m(17,"Add to Cart"),c()()()}if(n&2){let e=t.$implicit;d(4),g("src",e.imageCover,Z)("alt",e.title),d(2),X(e.category.name),d(2),X(e.title.split(" ",3).join(" ")),d(3),P("",e.price," EGP"),d(3),X(e.ratingsAverage),d(),g("ngClass",e.inwishlist?"text-red-600":"text-black")}}function Od(n,t){if(n&1&&(l(0,"div",4),J(1,Vd,18,7,"div",5,Nd),c()),n&2){let e=y();d(),ee(e.products)}}function Rd(n,t){n&1&&(l(0,"p",14),m(1,"There are no products currently available"),c())}var En=class n{constructor(t,e,i,r,o,s){this._CatagoriesService=t;this.toster=e;this._CartService=i;this._ActivatedRoute=r;this._ProductsService=o;this._WishlistService=s}toggleWishList(t){throw new Error("Method not implemented.")}addToCart(t){throw new Error("Method not implemented.")}subcategory_id;products;productDetails;wishListProducts=[];ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.subcategory_id=t.get("sub_id"),this._CatagoriesService.getAllProducts(this.subcategory_id).subscribe({next:e=>{this.products=e.data,console.log(this)}})}})}static \u0275fac=function(e){return new(e||n)(f(dt),f(ve),f(de),f(Ot),f(rt),f(He))};static \u0275cmp=E({type:n,selectors:[["app-sub-categories"]],decls:5,vars:2,consts:[["noProducts",""],[1,"main-section"],[1,"container-auto"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[1,"outter","p-3"],[1,"product","p-3","group"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-400","py-2"],[1,"text-black","font-medium","py-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"],[1,"text-center","text-gray-500","text-lg","py-6"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2),H(2,Od,3,0,"div",3)(3,Rd,2,0,"ng-template",null,0,et),c()()),e&2){let r=W(4);d(2),g("ngIf",i.products&&i.products.length>0)("ngIfElse",r)}},dependencies:[it,Te],encapsulation:2})};function Ld(n,t){if(n&1){let e=B();l(0,"div",7)(1,"div",8),v(2,"img",9)(3,"i",10),c(),l(4,"div",11)(5,"h2",12),m(6),c(),l(7,"p",13),m(8),c(),l(9,"div",14),v(10,"i",15),m(11),c(),l(12,"div",16)(13,"button",17),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.addToCart(r._id))}),m(14,"Add to Cart +"),c(),l(15,"button",18),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.removeFromWishList(r._id))}),m(16,"Remove"),c()()()()}if(n&2){let e=t.$implicit;d(2),g("src",e.imageCover,Z)("alt",e.title),d(4),P(" ",e.title," "),d(2),P("",e.price," EGP"),d(3),P(" ",e.ratingsAverage," ")}}function jd(n,t){if(n&1&&(l(0,"div",5),H(1,Ld,17,5,"div",6),c()),n&2){let e=y();d(),g("ngForOf",e.wishListProducts)}}function Bd(n,t){n&1&&(l(0,"div",19)(1,"p",20),m(2,"Your WishList Is Empty"),c()())}var An=class n{constructor(t,e,i){this._WishlistService=t;this.toastr=e;this._CartService=i}wishListProducts=[];ngOnInit(){this.getWishList()}getWishList(){this._WishlistService.getLoggedUserWishList().subscribe({next:t=>{console.log(t.data),this.wishListProducts=t.data},error:t=>{console.log(t)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}removeFromWishList(t){this._WishlistService.RemoveProductFromWishList(t).subscribe({next:e=>{this.wishListProducts=this.wishListProducts.filter(i=>i._id!==t),this.toastr.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)(f(He),f(ve),f(de))};static \u0275cmp=E({type:n,selectors:[["app-wishlist"]],decls:7,vars:2,consts:[["emptyState",""],[1,"main-section"],[1,"container-auto","py-10"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-8"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 justify-items-center",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-8","justify-items-center"],["class","bg-gradient-to-b from-white via-emerald-50 to-white shadow-xl rounded overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl w-full max-w-[260px]",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-white","via-emerald-50","to-white","shadow-xl","rounded","overflow-hidden","transform","transition","duration-300","hover:scale-105","hover:shadow-2xl","w-full","max-w-[260px]"],[1,"relative","group","overflow-hidden","rounded"],[1,"w-full","h-70","object-cover","transition-transform","duration-500","group-hover:scale-110",3,"src","alt"],[1,"fa","fa-heart","absolute","top-3","right-3","text-2xl","text-red-500","cursor-pointer","hover:scale-125","transition-transform","duration-300"],[1,"p-5","text-center"],[1,"text-lg","font-semibold","text-gray-800","mb-2","truncate","hover:text-emerald-600","transition-colors","duration-300"],[1,"text-emerald-500","font-bold","text-lg","mb-4"],[1,""],[1,"fas","fa-star","rating-color"],[1,"flex","flex-col","gap-4","group","w-full","max-w-xs"],[1,"main-btn","w-full","transform","translate-x-[150%]","group-hover:translate-x-0","duration-500",3,"click"],[1,"w-full","font-bold","cursor-pointer","my-3","p-3","rounded-3xl","block","bg-red-500","hover:bg-red-600","text-white","py-2","px-6","duration-500","-translate-x-[150%]","transform","group-hover:translate-x-0",3,"click"],[1,"text-center","mt-10","py-20"],[1,"text-center","text-gray-400","text-lg","mt-10"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Favorite Products List"),c(),H(4,jd,2,1,"div",4)(5,Bd,3,0,"ng-template",null,0,et),c()()),e&2){let r=W(6);d(4),g("ngIf",i.wishListProducts.length>0)("ngIfElse",r)}},dependencies:[Te,Vt],encapsulation:2})};function Ud(n,t){if(n&1){let e=B();l(0,"a",12),A("keyup.enter",function(){M(e),y(3);let r=W(1);return k(r.previous())})("click",function(){M(e),y(3);let r=W(1);return k(r.previous())}),m(1),l(2,"span",13),m(3),c()()}if(n&2){let e=y(3);d(),P(" ",e.previousLabel," "),d(2),X(e.screenReaderPageLabel)}}function Gd(n,t){if(n&1&&(l(0,"span",14),m(1),l(2,"span",13),m(3),c()()),n&2){let e=y(3);d(),P(" ",e.previousLabel," "),d(2),X(e.screenReaderPageLabel)}}function $d(n,t){if(n&1&&(l(0,"li",9),H(1,Ud,4,2,"a",10)(2,Gd,4,2,"span",11),c()),n&2){y(2);let e=W(1);Je("disabled",e.isFirstPage()),d(),g("ngIf",1<e.getCurrent()),d(),g("ngIf",e.isFirstPage())}}function zd(n,t){if(n&1){let e=B();l(0,"a",12),A("keyup.enter",function(){M(e);let r=y().$implicit;y(2);let o=W(1);return k(o.setCurrent(r.value))})("click",function(){M(e);let r=y().$implicit;y(2);let o=W(1);return k(o.setCurrent(r.value))}),l(1,"span",13),m(2),c(),l(3,"span"),m(4),we(5,"number"),c()()}if(n&2){let e=y().$implicit,i=y(2);d(2),P("",i.screenReaderPageLabel," "),d(2),X(e.label==="..."?e.label:$e(5,2,e.label,""))}}function Hd(n,t){if(n&1&&(lo(0),l(1,"span",16)(2,"span",13),m(3),c(),l(4,"span"),m(5),we(6,"number"),c()(),co()),n&2){let e=y().$implicit,i=y(2);d(3),P("",i.screenReaderCurrentLabel," "),d(2),X(e.label==="..."?e.label:$e(6,2,e.label,""))}}function Wd(n,t){if(n&1&&(l(0,"li"),H(1,zd,6,5,"a",10)(2,Hd,7,5,"ng-container",15),c()),n&2){let e=t.$implicit;y(2);let i=W(1);Je("current",i.getCurrent()===e.value)("ellipsis",e.label==="..."),d(),g("ngIf",i.getCurrent()!==e.value),d(),g("ngIf",i.getCurrent()===e.value)}}function qd(n,t){if(n&1){let e=B();l(0,"a",12),A("keyup.enter",function(){M(e),y(3);let r=W(1);return k(r.next())})("click",function(){M(e),y(3);let r=W(1);return k(r.next())}),m(1),l(2,"span",13),m(3),c()()}if(n&2){let e=y(3);d(),P(" ",e.nextLabel," "),d(2),X(e.screenReaderPageLabel)}}function Kd(n,t){if(n&1&&(l(0,"span",14),m(1),l(2,"span",13),m(3),c()()),n&2){let e=y(3);d(),P(" ",e.nextLabel," "),d(2),X(e.screenReaderPageLabel)}}function Qd(n,t){if(n&1&&(l(0,"li",17),H(1,qd,4,2,"a",10)(2,Kd,4,2,"span",11),c()),n&2){y(2);let e=W(1);Je("disabled",e.isLastPage()),d(),g("ngIf",!e.isLastPage()),d(),g("ngIf",e.isLastPage())}}function Yd(n,t){if(n&1&&(l(0,"ul",4),H(1,$d,3,4,"li",5),l(2,"li",6),m(3),c(),H(4,Wd,3,6,"li",7)(5,Qd,3,4,"li",8),c()),n&2){let e=y(),i=W(1);Je("responsive",e.responsive),d(),g("ngIf",e.directionLinks),d(2),_o(" ",i.getCurrent()," / ",i.getLastPage()," "),d(),g("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),d(),g("ngIf",e.directionLinks)}}var fi=class{constructor(){this.change=new De,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t],r=Math.ceil(i.totalItems/i.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},Xd=Number.MAX_SAFE_INTEGER,ka=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let h=i.id||this.service.defaultId();return this.state[h]?this.state[h].slice:e}let r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),s=o.id,a,u,p=o.itemsPerPage,_=this.service.register(o);if(!r&&e instanceof Array){if(p=+p||Xd,a=(o.currentPage-1)*p,u=a+p,this.stateIsIdentical(s,e,a,u))return this.state[s].slice;{let C=e.slice(a,u);return this.saveState(s,e,C,a,u),this.service.change.emit(s),C}}else return _&&this.service.change.emit(s),this.saveState(s,e,e,a,u),e}createInstance(e,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,s){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:s}}stateIsIdentical(e,i,r,o){let s=this.state[e];return!s||!(s.size===i.length&&s.start===r&&s.end===o)?!1:s.slice.every((u,p)=>u===i[r+p])}}return n.\u0275fac=function(e){return new(e||n)(f(fi,16))},n.\u0275pipe=Mt({name:"paginate",type:n,pure:!1,standalone:!1}),n})();var Zd=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new De,this.pageBoundsCorrection=new De,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let s=[],a=Math.max(Math.ceil(r/i),1),u=Math.ceil(o/2),p=e<=u,_=a-u<e,h=!p&&!_,C=o<a,w=1;for(;w<=a&&w<=o;){let S,I=this.calculatePageNumber(w,e,o,a),z=w===2&&(h||_),Y=w===o-1&&(h||p);C&&(z||Y)?S="...":S=I,s.push({label:S,value:I}),w++}return s}calculatePageNumber(e,i,r,o){let s=Math.ceil(r/2);return e===r?o:e===1?e:r<o?o-s<i?o-r+e:s<i?i-s+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(f(fi),f(_t))},n.\u0275dir=ae({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],standalone:!1,features:[Ze]}),n})();function Rr(n){return!!n&&n!=="false"}var Fa=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new De,this.pageBoundsCorrection=new De,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Rr(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Rr(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Rr(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=E({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},standalone:!1,decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(e&1){let r=B();l(0,"pagination-template",1,0),A("pageChange",function(s){return M(r),k(i.pageChange.emit(s))})("pageBoundsCorrection",function(s){return M(r),k(i.pageBoundsCorrection.emit(s))}),l(2,"nav",2),H(3,Yd,6,8,"ul",3),c()()}if(e&2){let r=W(1);g("id",i.id)("maxSize",i.maxSize),d(2),jn("aria-label",i.screenReaderPaginationLabel),d(),g("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[Zd,Te,Vt,Ao],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),n})(),Dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=je({providers:[fi],imports:[[Io]]}),n})();var eu=(n,t,e)=>({id:"some",itemsPerPage:n,currentPage:t,totalItems:e}),tu=n=>["/p_details",n],iu=(n,t)=>t._id;function nu(n,t){if(n&1){let e=B();l(0,"div",5)(1,"div",8)(2,"div",9)(3,"div"),v(4,"img",10),c(),l(5,"h1",11),m(6),c(),l(7,"h2",12),m(8),c(),l(9,"div",13)(10,"span"),m(11),c(),l(12,"span"),v(13,"i",14),m(14),c()(),l(15,"i",15),A("click",function(){let r=M(e).$implicit,o=y();return k(o.toggleWishList(r))}),c()(),l(16,"button",16),A("click",function(){let r=M(e).$implicit,o=y();return k(o.addToCart(r._id))}),m(17,"Add to Cart +"),c()()()}if(n&2){let e=t.$implicit;d(2),g("routerLink",Ie(8,tu,e._id)),d(2),g("src",e.imageCover,Z)("alt",e.title),d(2),P("",e.category.name," "),d(2),P("",e.title.split(" ",3).join(" ")," "),d(3),P("",e.price," EGP"),d(3),X(e.ratingsAverage),d(),g("ngClass",e.inwishlist?"text-red-600":"text-black")}}var In=class n{constructor(t,e,i,r){this._ProductsService=t;this._CartService=e;this.toastr=i;this._WishlistService=r}products;fromInput="";total;pageSize;p;productId;ngOnInit(){this.getAllProductsData()}getAllProductsData(t=1){this._ProductsService.getAllProducts(t).subscribe({next:e=>{this.products=e.data,this.pageSize=e.metadata.limit,this.p=e.metadata.currentPage,this.total=e.results,this._WishlistService.getLoggedUserWishList().subscribe({next:i=>{let r=i.data.map(o=>o._id);this.products.forEach(o=>{o.inwishlist=r.includes(o._id)})},error:i=>console.log(i)}),console.log(this.products)},error:e=>{console.log(e)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishList(t){t.inwishlist||(t.inwishlist=!0,this._WishlistService.AddProductToWishList(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inwishlist=!1}}))}static \u0275fac=function(e){return new(e||n)(f(rt),f(de),f(ve),f(He))};static \u0275cmp=E({type:n,selectors:[["app-products"]],decls:12,vars:11,consts:[[1,"main-section"],[1,"container-auto"],[1,"section-head","text-center","font-bold","mb-6","py-3"],["type","text","placeholder","Search Products...","name","","id","",1,"w-1/2","block","mx-auto","rounded-2xl","p-5","focus:transition-all","focus:duration-500","focus:border-2","focus:border-emerald-500",3,"ngModelChange","ngModel"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","2xl:grid-cols-5","gap-4"],[1,"outter","p-3"],[1,"flex","items-center","justify-center","mt-4"],["id","some",1,"myPagination",3,"pageChange"],[1,"product","p-2","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-700","font-extrabold","py-2"],[1,"text-emerald-500","font-medium","py-2"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","rating-color"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3," All Products "),c(),l(4,"input",3),Ei("ngModelChange",function(o){return xi(i.fromInput,o)||(i.fromInput=o),o}),c(),l(5,"div",4),J(6,nu,18,10,"div",5,iu),we(8,"search"),we(9,"paginate"),c(),l(10,"div",6)(11,"pagination-controls",7),A("pageChange",function(o){return i.getAllProductsData(o)}),c()()()()),e&2&&(d(4),wi("ngModel",i.fromInput),d(2),ee($e(9,4,$e(8,1,i.products,i.fromInput),Co(7,eu,i.pageSize,i.p,i.total))))},dependencies:[ce,qe,re,me,mi,it,Dn,Fa,Kt,ka],encapsulation:2})};var ru=n=>["/p_details",n],ou=(n,t)=>t._id;function su(n,t){if(n&1){let e=B();l(0,"div",6)(1,"div",7)(2,"div",8)(3,"div"),v(4,"img",9),c(),l(5,"h1",10),m(6),c(),l(7,"h2",11),m(8),c(),l(9,"div",12)(10,"span"),m(11),c(),l(12,"span"),v(13,"i",13),m(14),c()(),l(15,"i",14),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.toggleWishList(r))}),c()(),l(16,"button",15),A("click",function(){let r=M(e).$implicit,o=y(2);return k(o.addToCart(r._id))}),m(17,"Add to Cart"),c()()()}if(n&2){let e=t.$implicit;d(2),g("routerLink",Ie(8,ru,e._id)),d(2),g("src",e.imageCover,Z)("alt",e.title),d(2),X(e.category.name),d(2),X(e.title.split(" ",3).join(" ")),d(3),P("",e.price," EGP"),d(3),X(e.ratingsAverage),d(),g("ngClass",e.inwishlist?"text-red-600":"text-black")}}function au(n,t){if(n&1&&(l(0,"div")(1,"div",5),J(2,su,18,10,"div",6,ou),c()()),n&2){let e=y();d(2),ee(e.products)}}function lu(n,t){n&1&&(l(0,"p",16),m(1,"No products available for this brand"),c())}var Tn=class n{constructor(t,e,i,r,o,s){this._ProductsService=t;this._CartService=e;this.toastr=i;this._WishlistService=r;this._ActivatedRoute=o;this._BrandService=s}brandId;productsDetails={};products;wishListProducts=[];ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.brandId=t.get("b_id"),this._BrandService.getAllProducts(this.brandId).subscribe({next:e=>{this.products=e.data,console.log(this)}}),this._BrandService.getAllProducts(this.brandId).subscribe({next:e=>{this.products=e.data,console.log(this.products)},error:e=>console.log(e)}),this._WishlistService.getLoggedUserWishList().subscribe({next:e=>{let i=e.data.map(r=>r._id);this.products.forEach(r=>{r.inwishlist=i.includes(r._id)})},error:e=>console.log(e)}),console.log(this.products)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishList(t){t.inwishlist?(t.inwishlist=!1,this._WishlistService.RemoveProductFromWishList(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inwishlist=!0,this._WishlistService.AddProductToWishList(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inwishlist=!1}}))}static \u0275fac=function(e){return new(e||n)(f(rt),f(de),f(ve),f(He),f(Ot),f(Qt))};static \u0275cmp=E({type:n,selectors:[["app-br-details"]],decls:7,vars:2,consts:[["emptyState",""],[1,"main-section"],[1,"container-auto"],[1,"section-head","text-center","font-bold","text-4xl","text-emerald-500","mb-6","py-3"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[1,"outter","p-3"],[1,"product","p-3","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-400","py-2"],[1,"text-black","font-medium","py-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"],[1,"text-center","text-gray-500","text-lg","py-6"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2)(2,"h1",3),m(3," All Products "),c(),H(4,au,4,0,"div",4),c(),H(5,lu,2,0,"ng-template",null,0,et),c()),e&2){let r=W(6);d(4),g("ngIf",i.products.length)("ngIfElse",r)}},dependencies:[nt,ce,it,Te],encapsulation:2})};var Pn=class n{constructor(t,e){this._AuthService=t;this._Router=e}_FormBuilder=T(lt);forgotPasswordForm=this._FormBuilder.group({email:[null,[R.required,R.email]]});forgotPassword(){this.forgotPasswordForm.valid&&(console.log(this.forgotPasswordForm),this._AuthService.ForgotPassword(this.forgotPasswordForm.value).subscribe({next:t=>{console.log(t),t.statusMsg==="success"&&this._Router.navigate(["/verifyresetcode"])}}))}static \u0275fac=function(e){return new(e||n)(f(ue),f(le))};static \u0275cmp=E({type:n,selectors:[["app-forgotpassword"]],decls:13,vars:2,consts:[["f","ngForm"],[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","email","type","email","id","floating_filled","name","email","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],[1,"flex","justify-center","mt-4"],["type","submit",1,"px-3","w-md","font-bold","border","border-emerald-600","text-emerald-600","py-2","rounded-lg","hover:text-white","hover:bg-emerald-800","transition",3,"disabled"]],template:function(e,i){if(e&1){let r=B();l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Please Enter Your Email"),c(),l(4,"form",4,0),A("ngSubmit",function(){return M(r),k(i.forgotPassword())}),l(6,"div",5),v(7,"input",6),l(8,"label",7),m(9,"Email Address"),c()(),l(10,"div",8)(11,"button",9),m(12," Verify "),c()()()()()}if(e&2){let r=W(5);d(4),g("formGroup",i.forgotPasswordForm),d(7),g("disabled",r.invalid)}},dependencies:[qe,ke,re,me,Me,Fe,xe,Ee],encapsulation:2})};var Mn=class n{constructor(t,e){this._AuthService=t;this._Router=e}_FormBuilder=T(lt);resetPasswordForm=this._FormBuilder.group({email:[null,[R.required,R.email]],newPassword:[null,[R.required,R.pattern(/^\w{6,20}$/)]]});resetPassword(){this.resetPasswordForm.valid&&(console.log(this.resetPasswordForm),this._AuthService.ResetPassword(this.resetPasswordForm.value).subscribe({next:t=>{console.log(t),t.token&&this._Router.navigate(["/login"])}}))}static \u0275fac=function(e){return new(e||n)(f(ue),f(le))};static \u0275cmp=E({type:n,selectors:[["app-resetpassword"]],decls:17,vars:2,consts:[["f","ngForm"],[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","email","type","email","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],["formControlName","newPassword","type","password","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],[1,"flex","justify-center","mt-4"],["type","submit",1,"px-3","w-md","font-bold","border","border-emerald-600","text-emerald-600","py-2","rounded-lg","hover:text-white","hover:bg-emerald-800","transition",3,"disabled"]],template:function(e,i){if(e&1){let r=B();l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Reset Password"),c(),l(4,"form",4,0),A("ngSubmit",function(){return M(r),k(i.resetPassword())}),l(6,"div",5),v(7,"input",6),l(8,"label",7),m(9,"Email"),c()(),l(10,"div",5),v(11,"input",8),l(12,"label",7),m(13,"New Password"),c()(),l(14,"div",9)(15,"button",10),m(16," Reset Password "),c()()()()()}if(e&2){let r=W(5);d(4),g("formGroup",i.resetPasswordForm),d(11),g("disabled",r.invalid)}},dependencies:[qe,ke,re,me,Me,Fe,xe,Ee],encapsulation:2})};var kn=class n{constructor(t,e){this._AuthService=t;this._Router=e}_FormBuilder=T(lt);resetCodeForm=this._FormBuilder.group({resetCode:[null,[R.required,R.pattern("^[0-9]{6}$")]]});resetCode(){this.resetCodeForm.valid&&(console.log(this.resetCodeForm),this._AuthService.VerifyResetCode(this.resetCodeForm.value).subscribe({next:t=>{console.log(t),t.status==="Success"&&this._Router.navigate(["/resetpassword"])}}))}static \u0275fac=function(e){return new(e||n)(f(ue),f(le))};static \u0275cmp=E({type:n,selectors:[["app-verify-reset-code"]],decls:13,vars:2,consts:[["f","ngForm"],[1,"main-section"],[1,"container-auto","bg-gray-200/30","shadow-md","shadow-gray-400","p-3","rounded-2xl"],[1,"section-head","font-black"],[3,"ngSubmit","formGroup"],[1,"relative","my-3"],["formControlName","resetCode","type","text","id","floating_filled","name","resetCode","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],[1,"flex","justify-center","mt-4"],["type","submit",1,"px-3","w-md","font-bold","border","border-emerald-600","text-emerald-600","py-2","rounded-lg","hover:text-white","hover:bg-emerald-800","transition",3,"disabled"]],template:function(e,i){if(e&1){let r=B();l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Please Enter Your Verification Code"),c(),l(4,"form",4,0),A("ngSubmit",function(){return M(r),k(i.resetCode())}),l(6,"div",5),v(7,"input",6),l(8,"label",7),m(9,"Code"),c()(),l(10,"div",8)(11,"button",9),m(12," Verify "),c()()()()()}if(e&2){let r=W(5);d(4),g("formGroup",i.resetCodeForm),d(7),g("disabled",r.invalid)}},dependencies:[qe,ke,re,me,Me,Fe,xe,Ee],encapsulation:2})};var Na=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",component:Ji,children:[{path:"login",component:un,title:"Login"},{path:"register",component:mn,title:"Register"},{path:"forgotpassword",component:Pn,title:"Forgot-Password"},{path:"verifyresetcode",component:kn,title:"Verify-Reset-Code"},{path:"resetpassword",component:Mn,title:"Reset-Password"}]},{path:"",component:pn,canActivate:[Pa],children:[{path:"home",component:gn,title:"Home"},{path:"brands",component:bn,title:"Brands"},{path:"categories",component:Cn,title:"Categories"},{path:"cart",component:Sn,title:"Cart"},{path:"products",component:In,title:"Products"},{path:"checkout/:c_id",component:wn,title:"Check-Out"},{path:"allorders",component:xn,title:"Orders"},{path:"wishlist",component:An,title:"WishList"},{path:"subcategory/:sub_id",component:En,title:"SubCategories"},{path:"p_details/:p_id",loadComponent:()=>import("./chunk-UY4BFWF3.js").then(n=>n.PDetailsComponent),title:"product details"},{path:"br-details/:b_id",component:Tn,title:"brand details"},{path:"**",component:yn,title:"404"}]}];var Va=(n,t)=>{let e=T(be);return(n.url.includes("cart")||n.url.includes("wishlist")||n.url.includes("orders"))&&(n=n.clone({setHeaders:{token:e.get("token")}})),t(n)};var Oa=(n,t)=>{let e=T(ve);return t(n).pipe(Kr(i=>(e.error(i.error.message,i.error.statusMsg),zr(()=>i))))};var Ra=(n,t)=>{let e=T(pi);return e.show(),t(n).pipe(Qr(()=>{e.hide()}))};var La={providers:[eo(),So({eventCoalescing:!0}),Lo(Na,jo()),Rn(Us,Da,Dn),ko(No(),Fo([Va,Oa,Ra])),Ro(Oo()),Gs(),Rn(be),$o()]};var Fn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"bg-gray-200","py-10"],[1,"w-11/12","mx-auto"],[1,"m-0","text-2xl"],[1,"text-gray-500","text-sm"],[1,"flex","items-center","gap-3","text-nowrap"],["type","text","placeholder","Email",1,"w-full","rounded-lg","border-gray-300"],[1,"btn-main"],[1,"pay-details","md:flex","justify-between","items-center","my-5"],[1,"flex","items-center","gap-2"],[1,"text-sm","m-0"],["src","./images/amazon-pay.png","width","50px","alt",""],["src","./images/American-Express-Color.png","width","50px","alt",""],["src","./images/paypal.png","width","50px","alt",""],["src","./images/mastercard.webp","width","50px","alt",""],[1,"h6","m-0"],["src","./images/get-google-play.png","width","100px","alt",""],["src","./images/get-apple-store.png","width","100px","alt",""]],template:function(e,i){e&1&&(L(0,"footer",0)(1,"div",1)(2,"h2",2),m(3,"Get The FreshCart App"),N(),L(4,"p",3),m(5," We Will Send You a Link, Open it on Your Phone to download the app "),N(),L(6,"div",4),Ge(7,"input",5),L(8,"button",6),m(9,"Share App Link"),N()(),Ge(10,"hr"),L(11,"div",7)(12,"div",8)(13,"h3",9),m(14,"Payment partners"),N(),Ge(15,"img",10)(16,"img",11)(17,"img",12)(18,"img",13),N(),L(19,"div",8)(20,"h3",14),m(21,"Get Deliveries with FreshCart"),N(),Ge(22,"img",15)(23,"img",16),N()()()())},encapsulation:2})};var Nn=class n{title=ht("e-commerce");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","pacman",3,"fullScreen"],[2,"color","white"]],template:function(e,i){e&1&&(l(0,"div"),v(1,"router-outlet"),c(),l(2,"ngx-spinner",0)(3,"p",1),m(4," Loading... "),c()(),v(5,"app-footer")),e&2&&(d(2),g("fullScreen",!0))},dependencies:[Rt,Fn,Aa],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}"]})};Po(Nn,La).catch(n=>console.error(n));
